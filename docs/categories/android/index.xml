<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>Android - 分类 - 炑炑先生</title>
        <link>https://seekwj.github.io/categories/android/</link>
        <description>Android - 分类 - 炑炑先生</description>
        <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><lastBuildDate>Wed, 23 Jun 2021 09:25:51 &#43;0800</lastBuildDate><atom:link href="https://seekwj.github.io/categories/android/" rel="self" type="application/rss+xml" /><item>
    <title> 违章查询</title>
    <link>https://seekwj.github.io/%E8%BF%9D%E7%AB%A0%E6%9F%A5%E8%AF%A2/</link>
    <pubDate>Wed, 23 Jun 2021 09:25:51 &#43;0800</pubDate>
    <author>作者</author>
    <guid>https://seekwj.github.io/%E8%BF%9D%E7%AB%A0%E6%9F%A5%E8%AF%A2/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/md/Android/%e6%af%94%e8%b5%9b/%e8%bf%9d%e7%ab%a0%e6%9f%a5%e8%af%a2/%e8%bf%9d%e7%ab%a0%e6%9f%a5%e8%af%a2.png" referrerpolicy="no-referrer">
            </div><h2 id="先写xml文件"><strong>先写<code>XML</code>文件</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:background=</span><span class="s">&#34;#f1f1f1&#34;</span>
    <span class="na">android:gravity=</span><span class="s">&#34;center_vertical&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span> <span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span>
        <span class="na">android:textStyle=</span><span class="s">&#34;bold&#34;</span>
        <span class="na">android:padding=</span><span class="s">&#34;10dp&#34;</span>
        <span class="na">android:textSize=</span><span class="s">&#34;18sp&#34;</span>
        <span class="na">android:text=</span><span class="s">&#34;车辆违章查询&#34;</span>
        <span class="na">android:layout_marginLeft=</span><span class="s">&#34;30dp&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;LinearLayout</span>
        <span class="na">android:layout_marginTop=</span><span class="s">&#34;30dp&#34;</span>
        <span class="na">android:layout_marginLeft=</span><span class="s">&#34;30dp&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;TextView</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span>
            <span class="na">android:textStyle=</span><span class="s">&#34;bold&#34;</span>
            <span class="na">android:textSize=</span><span class="s">&#34;18sp&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;车牌号：鲁&#34;</span>
            <span class="na">android:padding=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span> <span class="nt">/&gt;</span>

        <span class="nt">&lt;EditText</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/et_car&#34;</span>
            <span class="na">android:padding=</span><span class="s">&#34;5dp&#34;</span>
            <span class="na">android:textSize=</span><span class="s">&#34;18sp&#34;</span>
            <span class="na">android:singleLine=</span><span class="s">&#34;true&#34;</span>
            <span class="na">android:maxLength=</span><span class="s">&#34;6&#34;</span>
            <span class="na">android:textStyle=</span><span class="s">&#34;bold&#34;</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span>
            <span class="na">android:background=</span><span class="s">&#34;@drawable/border_55&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;120dp&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Button</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/bt_cx&#34;</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span>
            <span class="na">android:textStyle=</span><span class="s">&#34;bold&#34;</span>
            <span class="na">android:textSize=</span><span class="s">&#34;16sp&#34;</span>
            <span class="na">android:layout_marginLeft=</span><span class="s">&#34;30dp&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;查询&#34;</span>
            <span class="na">android:background=</span><span class="s">&#34;@drawable/border_hh10&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;60dp&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;30dp&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/LinearLayout&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="更据xml文件插件直接生成"><strong>更据<code>XML</code>文件插件直接生成</strong></h2>
<p>==<strong>不是核心代码</strong>==</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Fragment_4</span> <span class="kd">extends</span> <span class="n">Fragment</span> <span class="kd">implements</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">EditText</span> <span class="n">et_car</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Button</span> <span class="n">bt_cz</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">View</span> <span class="nf">onCreateView</span><span class="o">(</span><span class="n">LayoutInflater</span> <span class="n">inflater</span><span class="o">,</span> <span class="n">ViewGroup</span> <span class="n">container</span><span class="o">,</span>
                             <span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">View</span> <span class="n">view</span> <span class="o">=</span> <span class="n">inflater</span>
                <span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fragment_layout04</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="n">initView</span><span class="o">(</span><span class="n">view</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">view</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initView</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">et_car</span> <span class="o">=</span> <span class="o">(</span><span class="n">EditText</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">et_car</span><span class="o">);</span>
        <span class="n">bt_cz</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bt_cz</span><span class="o">);</span>
        <span class="n">bt_cz</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">v</span><span class="o">.</span><span class="na">getId</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">case</span> <span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bt_cz</span><span class="o">:</span>
                <span class="n">submit</span><span class="o">();</span><span class="c1">//在下面单独列出来
</span><span class="c1"></span>                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
    
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="submit方法的代码"><strong><code>submit();</code>方法的代码</strong></h2>
<p>​	<strong>==核心代码==</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="kt">void</span> <span class="nf">submit</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// validate
</span><span class="c1"></span>        <span class="n">String</span> <span class="n">car</span> <span class="o">=</span> <span class="n">et_car</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">().</span><span class="na">trim</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">TextUtils</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">(</span><span class="n">car</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getContext</span><span class="o">(),</span> <span class="s">&#34;输入不能为空&#34;</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
    	<span class="c1">//这里要统一转成大写
</span><span class="c1"></span>        <span class="kd">final</span> <span class="n">String</span> <span class="n">carnumber</span> <span class="o">=</span> <span class="o">(</span><span class="s">&#34;鲁&#34;</span> <span class="o">+</span> <span class="n">car</span><span class="o">).</span><span class="na">toUpperCase</span><span class="o">();</span>
        <span class="n">LoadingDialog</span><span class="o">.</span><span class="na">showDialog</span><span class="o">(</span><span class="n">getContext</span><span class="o">());</span> <span class="c1">//弹出正在查询的对话框
</span><span class="c1"></span>    	<span class="c1">//查询车辆违章接口的请求数据
</span><span class="c1"></span>        <span class="n">HashMap</span> <span class="n">hashMap</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">();</span>
        <span class="n">hashMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;UserName&#34;</span><span class="o">,</span> <span class="s">&#34;user1&#34;</span><span class="o">);</span>
        <span class="n">hashMap</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;carnumber&#34;</span><span class="o">,</span> <span class="n">carnumber</span><span class="o">);</span>
        <span class="n">InitApp</span><span class="o">.</span><span class="na">doPost</span><span class="o">(</span><span class="s">&#34;get_car_peccancy&#34;</span><span class="o">,</span> <span class="n">hashMap</span><span class="o">,</span> <span class="k">new</span> <span class="n">Response</span><span class="o">.</span><span class="na">Listener</span><span class="o">&lt;</span><span class="n">JSONObject</span><span class="o">&gt;()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onResponse</span><span class="o">(</span><span class="n">JSONObject</span> <span class="n">jsonObject</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">List</span><span class="o">&lt;</span><span class="n">Carwz</span><span class="o">.</span><span class="na">ROWSDETAILBean</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">gson</span><span class="o">.</span><span class="na">fromJson</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">jsonObject</span><span class="o">),</span> <span class="n">Carwz</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">getROWS_DETAIL</span><span class="o">();</span>
                <span class="c1">//判断接口返回的数据集合长度是否为空，为空这没有违章数据
</span><span class="c1"></span>                <span class="k">if</span> <span class="o">(</span><span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="n">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InitApp</span><span class="o">.</span><span class="na">toast</span><span class="o">(</span><span class="s">&#34;没有查询到&#34;</span> <span class="o">+</span> <span class="n">carnumber</span> <span class="o">+</span> <span class="s">&#34;车的违章数据&#34;</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="c1">//取sp里的违章记录
</span><span class="c1"></span>                    <span class="n">String</span> <span class="n">spString</span> <span class="o">=</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">sp</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;carwz&#34;</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
                    <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Carwzs</span><span class="o">&gt;</span> <span class="n">arrayList</span><span class="o">;</span>
                    <span class="c1">//判断sp里的违章记录是否为空 ，为空则new 一个集合，不为空则使用sp中的违章记录集合
</span><span class="c1"></span>                    <span class="k">if</span> <span class="o">(</span><span class="n">spString</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">arrayList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="n">arrayList</span> <span class="o">=</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">gson</span><span class="o">.</span><span class="na">fromJson</span><span class="o">(</span><span class="n">spString</span><span class="o">,</span> <span class="k">new</span> <span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Carwzs</span><span class="o">&gt;&gt;()</span> <span class="o">{</span>
                        <span class="o">}.</span><span class="na">getType</span><span class="o">());</span>
                        <span class="c1">//sp不为空时要判断集合中是否有查询的车辆，有则提示已添加
</span><span class="c1"></span>                        <span class="k">for</span> <span class="o">(</span><span class="n">Carwzs</span> <span class="n">bean</span> <span class="o">:</span> <span class="n">arrayList</span><span class="o">)</span> <span class="o">{</span>
                            <span class="k">if</span> <span class="o">(</span><span class="n">carnumber</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">bean</span><span class="o">.</span><span class="na">getCarnumber</span><span class="o">()))</span> <span class="o">{</span>
                                <span class="n">InitApp</span><span class="o">.</span><span class="na">toast</span><span class="o">(</span><span class="s">&#34;该车已添加&#34;</span><span class="o">);</span>
                                <span class="n">LoadingDialog</span><span class="o">.</span><span class="na">disDialog</span><span class="o">();</span>
                                <span class="k">return</span><span class="o">;</span>
                            <span class="o">}</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                    <span class="c1">//集合中的对象下面Carwzs()的详细代码
</span><span class="c1"></span>                    <span class="n">Carwzs</span> <span class="n">carwzs</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Carwzs</span><span class="o">();</span>
                    <span class="c1">//将接口返回的数据添加到对象中
</span><span class="c1"></span>                    <span class="n">carwzs</span><span class="o">.</span><span class="na">setROWS_DETAIL</span><span class="o">(</span><span class="n">list</span><span class="o">);</span>
                    <span class="c1">//记录添加的车牌号用来判断是否存在sp集合中
</span><span class="c1"></span>                    <span class="n">carwzs</span><span class="o">.</span><span class="na">setCarnumber</span><span class="o">(</span><span class="n">carnumber</span><span class="o">);</span>
                    <span class="c1">//将Carwzs()对象加入集合中
</span><span class="c1"></span>                    <span class="n">arrayList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">carwzs</span><span class="o">);</span>
                    <span class="c1">//将集合存入sp中
</span><span class="c1"></span>                    <span class="n">InitApp</span><span class="o">.</span><span class="na">edit</span><span class="o">.</span><span class="na">putString</span><span class="o">(</span><span class="s">&#34;carwz&#34;</span><span class="o">,</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">gson</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">arrayList</span><span class="o">)).</span><span class="na">commit</span><span class="o">();</span>       
                    <span class="n">startActivity</span><span class="o">(</span><span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">getContext</span><span class="o">(),</span> <span class="n">Activity_4_1</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
                <span class="o">}</span>
                <span class="n">et_car</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
                <span class="n">LoadingDialog</span><span class="o">.</span><span class="na">disDialog</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDestroy</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onDestroy</span><span class="o">();</span>
        <span class="n">InitApp</span><span class="o">.</span><span class="na">edit</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="s">&#34;carwz&#34;</span><span class="o">).</span><span class="na">commit</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="carwzs对象代码"><strong><code>Carwzs()</code>对象代码</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Carwzs</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Carwz</span><span class="o">.</span><span class="na">ROWSDETAILBean</span><span class="o">&gt;</span> <span class="n">ROWS_DETAIL</span><span class="o">;</span> <span class="c1">//一辆车的违章记录
</span><span class="c1"></span>    <span class="kd">private</span> <span class="n">String</span> <span class="n">carnumber</span><span class="o">;</span> <span class="c1">//违章车牌号
</span><span class="c1"></span>    <span class="kd">private</span> <span class="kt">int</span> <span class="n">pmoney</span><span class="o">;</span><span class="c1">//所有违章的罚款
</span><span class="c1"></span>    <span class="kd">private</span> <span class="kt">int</span> <span class="n">pscore</span><span class="o">;</span><span class="c1">//所有违章扣的分
</span><span class="c1"></span>    
    <span class="c1">//Getter and Setter 方法
</span><span class="c1"></span><span class="o">}</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="activity_4_1显示查询结果的页面"><strong><code>Activity_4_1</code>显示查询结果的页面</strong></h2>
<p></p>
<h3 id="activity_4_1xml"><strong><code>Activity_4_1.xml</code></strong></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span><span class="lnt">85
</span><span class="lnt">86
</span><span class="lnt">87
</span><span class="lnt">88
</span><span class="lnt">89
</span><span class="lnt">90
</span><span class="lnt">91
</span><span class="lnt">92
</span><span class="lnt">93
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span> <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;include</span> <span class="na">layout=</span><span class="s">&#34;@layout/title&#34;</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;RelativeLayout</span>
        <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
        <span class="na">android:layout_margin=</span><span class="s">&#34;10dp&#34;</span>
        <span class="na">android:background=</span><span class="s">&#34;@color/light_gray&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:paddingBottom=</span><span class="s">&#34;10dp&#34;</span>
        <span class="na">android:paddingLeft=</span><span class="s">&#34;15dp&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;0dp&#34;</span> <span class="nt">&gt;</span>

        <span class="nt">&lt;TextView</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/tv1&#34;</span>
            <span class="na">android:textSize=</span><span class="s">&#34;18sp&#34;</span>
            <span class="na">android:textStyle=</span><span class="s">&#34;bold&#34;</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span>
            <span class="na">android:padding=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;汽车资料卡片&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;ImageView</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/iv_add&#34;</span>
            <span class="na">android:src=</span><span class="s">&#34;@mipmap/add2&#34;</span>
            <span class="na">android:layout_alignParentRight=</span><span class="s">&#34;true&#34;</span>
            <span class="na">android:layout_marginTop=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:layout_marginRight=</span><span class="s">&#34;30dp&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;30dp&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;30dp&#34;</span><span class="nt">/&gt;</span>

        <span class="nt">&lt;HorizontalScrollView</span>
            <span class="na">android:layout_below=</span><span class="s">&#34;@+id/tv1&#34;</span>
            <span class="na">android:scrollbars=</span><span class="s">&#34;none&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span> <span class="nt">&gt;</span>
            <span class="nt">&lt;LinearLayout</span>
                <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span>
                <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
                <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">&gt;</span>

                <span class="nt">&lt;GridView</span>
                    <span class="na">android:id=</span><span class="s">&#34;@+id/gv_top&#34;</span>
                    <span class="na">android:paddingLeft=</span><span class="s">&#34;10dp&#34;</span>
                    <span class="na">android:horizontalSpacing=</span><span class="s">&#34;10dp&#34;</span>
                    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
                    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/LinearLayout&gt;</span>
        <span class="nt">&lt;/HorizontalScrollView&gt;</span>
    <span class="nt">&lt;/RelativeLayout&gt;</span>
    
    <span class="nt">&lt;RelativeLayout</span>
        <span class="na">android:layout_weight=</span><span class="s">&#34;1&#34;</span>
        <span class="na">android:layout_margin=</span><span class="s">&#34;10dp&#34;</span>
        <span class="na">android:background=</span><span class="s">&#34;@color/light_gray&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:paddingBottom=</span><span class="s">&#34;10dp&#34;</span>
        <span class="na">android:paddingLeft=</span><span class="s">&#34;15dp&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;0dp&#34;</span> <span class="nt">&gt;</span>

        <span class="nt">&lt;TextView</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/tv2&#34;</span>
            <span class="na">android:textSize=</span><span class="s">&#34;18sp&#34;</span>
            <span class="na">android:textStyle=</span><span class="s">&#34;bold&#34;</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span>
            <span class="na">android:padding=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;违章详情&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span> <span class="nt">/&gt;</span>

        <span class="nt">&lt;HorizontalScrollView</span>
            <span class="na">android:layout_below=</span><span class="s">&#34;@+id/tv2&#34;</span>
            <span class="na">android:scrollbars=</span><span class="s">&#34;none&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span> <span class="nt">&gt;</span>
            <span class="nt">&lt;LinearLayout</span>
                <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span>
                <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
                <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">&gt;</span>

                <span class="nt">&lt;GridView</span>
                    <span class="na">android:id=</span><span class="s">&#34;@+id/gv_bottom&#34;</span>
                    <span class="na">android:paddingLeft=</span><span class="s">&#34;10dp&#34;</span>
                    <span class="na">android:horizontalSpacing=</span><span class="s">&#34;10dp&#34;</span>
                    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
                    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/LinearLayout&gt;</span>
        <span class="nt">&lt;/HorizontalScrollView&gt;</span>
    <span class="nt">&lt;/RelativeLayout&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="activity_4_1class代码"><strong><code>Activity_4_1.class</code>代码</strong></h3>
<p><strong>先准备页面的数据</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initData</span><span class="o">()</span> <span class="o">{</span> 
     	<span class="c1">//取出之前fragment页面存在sp里的违章记录
</span><span class="c1"></span>        <span class="n">String</span> <span class="n">carwz</span> <span class="o">=</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">sp</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;carwz&#34;</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
     	<span class="c1">//将sp取出的字符串数据转换成Carwzs()集合数据
</span><span class="c1"></span>        <span class="n">wzlist</span> <span class="o">=</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">gson</span><span class="o">.</span><span class="na">fromJson</span><span class="o">(</span><span class="n">carwz</span><span class="o">,</span> <span class="k">new</span> <span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Carwzs</span><span class="o">&gt;&gt;()</span> <span class="o">{</span>
        <span class="o">}.</span><span class="na">getType</span><span class="o">());</span>
     	<span class="c1">//循环集合计算每辆车所有违章的罚款和扣分
</span><span class="c1"></span>        <span class="k">for</span> <span class="o">(</span><span class="n">Carwzs</span> <span class="n">carwzs</span> <span class="o">:</span> <span class="n">wzlist</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">pmoney</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
            <span class="kt">int</span> <span class="n">pscore</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
            <span class="k">for</span> <span class="o">(</span><span class="n">Carwz</span><span class="o">.</span><span class="na">ROWSDETAILBean</span> <span class="n">bean</span> <span class="o">:</span> <span class="n">carwzs</span><span class="o">.</span><span class="na">getROWS_DETAIL</span><span class="o">())</span> <span class="o">{</span>
                <span class="n">CarType</span><span class="o">.</span><span class="na">ROWSDETAILBean</span> <span class="n">type</span> <span class="o">=</span> <span class="n">getType</span><span class="o">(</span><span class="n">bean</span><span class="o">.</span><span class="na">getPcode</span><span class="o">());</span>
                <span class="n">pmoney</span> <span class="o">+=</span> <span class="n">type</span><span class="o">.</span><span class="na">getPmoney</span><span class="o">();</span>
                <span class="n">pscore</span> <span class="o">+=</span> <span class="n">type</span><span class="o">.</span><span class="na">getPscore</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="n">carwzs</span><span class="o">.</span><span class="na">setPmoney</span><span class="o">(</span><span class="n">pmoney</span><span class="o">);</span>
            <span class="n">carwzs</span><span class="o">.</span><span class="na">setPscore</span><span class="o">(</span><span class="n">pscore</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="gettype方法"><strong><code>getType()</code>方法</strong></h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">   <span class="kd">private</span> <span class="n">CarType</span><span class="o">.</span><span class="na">ROWSDETAILBean</span> <span class="nf">getType</span><span class="o">(</span><span class="n">String</span> <span class="n">pcode</span><span class="o">)</span> <span class="o">{</span><span class="c1">//上面传过来的违章代码
</span><span class="c1"></span>        <span class="n">List</span><span class="o">&lt;</span><span class="n">CarType</span><span class="o">.</span><span class="na">ROWSDETAILBean</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">gson</span><span class="o">.</span><span class="na">fromJson</span><span class="o">(</span><span class="n">InitApp</span><span class="o">.</span><span class="na">getData</span><span class="o">(</span><span class="s">&#34;cartype&#34;</span><span class="o">),</span> <span class="n">CarType</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">getROWS_DETAIL</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">CarType</span><span class="o">.</span><span class="na">ROWSDETAILBean</span> <span class="n">bean</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">pcode</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">bean</span><span class="o">.</span><span class="na">getPcode</span><span class="o">()))</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">bean</span><span class="o">;</span><span class="c1">//返回对应违章代码的javabean对象
</span><span class="c1"></span>            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>==不要网了在<code>onstop()</code>方法里存违章记录==</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onStop</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onStop</span><span class="o">();</span>
        <span class="c1">//保证这个页面对违章记录的操作有保存
</span><span class="c1"></span>        <span class="n">InitApp</span><span class="o">.</span><span class="na">edit</span><span class="o">.</span><span class="na">putString</span><span class="o">(</span><span class="s">&#34;carwz&#34;</span><span class="o">,</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">gson</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">wzlist</span><span class="o">)).</span><span class="na">commit</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="initview初始化控件代码"><strong><code>initView()</code>初始化控件代码</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initView</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">tv_back</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_back</span><span class="o">);</span>
        <span class="n">tv_title</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_title</span><span class="o">);</span>
        <span class="n">im_ref</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">im_ref</span><span class="o">);</span>
        <span class="n">iv_add</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">iv_add</span><span class="o">);</span>
        <span class="n">gv_top</span> <span class="o">=</span> <span class="o">(</span><span class="n">GridView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">gv_top</span><span class="o">);</span>
        <span class="n">gv_bottom</span> <span class="o">=</span> <span class="o">(</span><span class="n">GridView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">gv_bottom</span><span class="o">);</span>
        <span class="n">tv_back</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">finish</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">tv_title</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&#34;查询结果&#34;</span><span class="o">);</span>
        <span class="n">iv_add</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">finish</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
     	<span class="c1">//设置GridView参数
</span><span class="c1"></span>        <span class="n">setGv</span><span class="o">(</span><span class="n">gv_top</span><span class="o">,</span><span class="n">wzlist</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>
        <span class="n">gv_top</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="k">new</span> <span class="n">wzAdapter</span><span class="o">());</span>
        <span class="n">setGv</span><span class="o">(</span><span class="n">gv_bottom</span><span class="o">,</span><span class="n">wzlist</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">index</span><span class="o">).</span><span class="na">getROWS_DETAIL</span><span class="o">().</span><span class="na">size</span><span class="o">());</span>
        <span class="n">wzxqAdapter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">WzxqAdapter</span><span class="o">();</span>
        <span class="n">gv_bottom</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="n">wzxqAdapter</span><span class="o">);</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="setgv方法"><strong><code>setGv()</code>方法</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">setGv</span><span class="o">(</span><span class="n">GridView</span> <span class="n">gv</span><span class="o">,</span> <span class="kt">int</span> <span class="n">size</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//设置GridView的条目数  这里的条目数就是对应集合长度
</span><span class="c1"></span>        <span class="n">gv</span><span class="o">.</span><span class="na">setNumColumns</span><span class="o">(</span><span class="n">size</span><span class="o">);</span>
        <span class="n">ViewGroup</span><span class="o">.</span><span class="na">LayoutParams</span> <span class="n">layoutParams</span> <span class="o">=</span> <span class="n">gv</span><span class="o">.</span><span class="na">getLayoutParams</span><span class="o">();</span>
        <span class="c1">//设置GridView的宽度
</span><span class="c1"></span>        <span class="n">layoutParams</span><span class="o">.</span><span class="na">width</span> <span class="o">=</span> <span class="n">700</span> <span class="o">*</span> <span class="n">size</span><span class="o">;</span>
        <span class="n">gv</span><span class="o">.</span><span class="na">setLayoutParams</span><span class="o">(</span><span class="n">layoutParams</span><span class="o">);</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="汽车资料卡片部分的gridview的适配器"><strong>汽车资料卡片部分的<code>GridView</code>的适配器</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="kd">class</span> <span class="nc">wzAdapter</span> <span class="kd">extends</span> <span class="n">BaseAdapter</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">wzlist</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">Carwzs</span> <span class="nf">getItem</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">wzlist</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getItemId</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">position</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">View</span> <span class="nf">getView</span><span class="o">(</span><span class="kd">final</span> <span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="n">View</span> <span class="n">convertView</span><span class="o">,</span> <span class="n">ViewGroup</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ViewHolder</span> <span class="n">viewHolder</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">convertView</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">convertView</span> <span class="o">=</span> <span class="n">LayoutInflater</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">getContext</span><span class="o">()).</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">item_wz</span><span class="o">,</span> <span class="n">parent</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
                <span class="n">viewHolder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ViewHolder</span><span class="o">(</span><span class="n">convertView</span><span class="o">);</span>
                <span class="n">convertView</span><span class="o">.</span><span class="na">setTag</span><span class="o">(</span><span class="n">viewHolder</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">viewHolder</span> <span class="o">=</span> <span class="o">(</span><span class="n">ViewHolder</span><span class="o">)</span> <span class="n">convertView</span><span class="o">.</span><span class="na">getTag</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="kd">final</span> <span class="n">Carwzs</span> <span class="n">item</span> <span class="o">=</span> <span class="n">getItem</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
            <span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_cp</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getCarnumber</span><span class="o">());</span>
            <span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_cl</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&#34;未处理违章\u3000&#34;</span> <span class="o">+</span> <span class="n">item</span><span class="o">.</span><span class="na">getROWS_DETAIL</span><span class="o">().</span><span class="na">size</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34; 次&#34;</span><span class="o">);</span>
            <span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_fen</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&#34;扣  &#34;</span> <span class="o">+</span> <span class="n">item</span><span class="o">.</span><span class="na">getPscore</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34; 分\u3000罚款 &#34;</span> <span class="o">+</span> <span class="n">item</span><span class="o">.</span><span class="na">getPmoney</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34; 元&#34;</span><span class="o">);</span>
            <span class="c1">//减号图片点击事件
</span><span class="c1"></span>            <span class="n">viewHolder</span><span class="o">.</span><span class="na">iv_jian</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">wzlist</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
                    <span class="k">if</span> <span class="o">(</span><span class="n">wzlist</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="n">0</span><span class="o">)</span> <span class="o">{</span> <span class="c1">//当查询的违章记录集合长度为0时返回查询页面
</span><span class="c1"></span>                        <span class="n">finish</span><span class="o">();</span>
                    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                        <span class="n">index</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span><span class="c1">//没次删除违章记录默认显示第一个条目的违章详情
</span><span class="c1"></span>                        <span class="c1">//重新设置俩个GridView的条目数和宽度 并刷新数组适配器
</span><span class="c1"></span>                        <span class="n">setGv</span><span class="o">(</span><span class="n">gv_top</span><span class="o">,</span><span class="n">wzlist</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>
                        <span class="n">notifyDataSetChanged</span><span class="o">();</span>
                        <span class="n">setGv</span><span class="o">(</span><span class="n">gv_bottom</span><span class="o">,</span><span class="n">wzlist</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">index</span><span class="o">).</span><span class="na">getROWS_DETAIL</span><span class="o">().</span><span class="na">size</span><span class="o">());</span>
                        <span class="n">wzxqAdapter</span><span class="o">.</span><span class="na">notifyDataSetChanged</span><span class="o">();</span>
                    <span class="o">}</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="c1">//条目点击事件
</span><span class="c1"></span>            <span class="n">convertView</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">index</span> <span class="o">=</span> <span class="n">position</span><span class="o">;</span> <span class="c1">//将设置成对应条目的位置
</span><span class="c1"></span>                    <span class="n">setGv</span><span class="o">(</span><span class="n">gv_bottom</span><span class="o">,</span><span class="n">wzlist</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">position</span><span class="o">).</span><span class="na">getROWS_DETAIL</span><span class="o">().</span><span class="na">size</span><span class="o">());</span>
                    <span class="n">wzxqAdapter</span><span class="o">.</span><span class="na">notifyDataSetChanged</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="k">return</span> <span class="n">convertView</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">class</span> <span class="nc">ViewHolder</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="n">View</span> <span class="n">rootView</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_cp</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_cl</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_fen</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">ImageView</span> <span class="n">iv_jian</span><span class="o">;</span>

            <span class="kd">public</span> <span class="nf">ViewHolder</span><span class="o">(</span><span class="n">View</span> <span class="n">rootView</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">rootView</span> <span class="o">=</span> <span class="n">rootView</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_cp</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_cp</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_cl</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_cl</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_fen</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_fen</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">iv_jian</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">iv_jian</span><span class="o">);</span>
            <span class="o">}</span>

        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="违章详情下的gridview适配器"><strong>违章详情下的<code>GridView</code>适配器</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">WzxqAdapter</span> <span class="kd">extends</span> <span class="n">BaseAdapter</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
            <span class="c1">//根据index取对应的详情数据
</span><span class="c1"></span>            <span class="k">return</span> <span class="n">wzlist</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">index</span><span class="o">).</span><span class="na">getROWS_DETAIL</span><span class="o">().</span><span class="na">size</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">Carwz</span><span class="o">.</span><span class="na">ROWSDETAILBean</span> <span class="nf">getItem</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">wzlist</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">index</span><span class="o">).</span><span class="na">getROWS_DETAIL</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getItemId</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">position</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">View</span> <span class="nf">getView</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="n">View</span> <span class="n">convertView</span><span class="o">,</span> <span class="n">ViewGroup</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">ViewHolder</span> <span class="n">viewHolder</span><span class="o">;</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">convertView</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">convertView</span> <span class="o">=</span> <span class="n">LayoutInflater</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">getContext</span><span class="o">()).</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">item_wzxq</span><span class="o">,</span> <span class="n">parent</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
                <span class="n">viewHolder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ViewHolder</span><span class="o">(</span><span class="n">convertView</span><span class="o">);</span>
                <span class="n">convertView</span><span class="o">.</span><span class="na">setTag</span><span class="o">(</span><span class="n">viewHolder</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">viewHolder</span> <span class="o">=</span> <span class="o">(</span><span class="n">ViewHolder</span><span class="o">)</span> <span class="n">convertView</span><span class="o">.</span><span class="na">getTag</span><span class="o">();</span>
            <span class="o">}</span>
            <span class="n">Carwz</span><span class="o">.</span><span class="na">ROWSDETAILBean</span> <span class="n">item</span> <span class="o">=</span> <span class="n">getItem</span><span class="o">(</span><span class="n">position</span><span class="o">);</span>
            <span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_time</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getPdatetime</span><span class="o">());</span>
            <span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_paddr</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getPaddr</span><span class="o">());</span>
            <span class="n">CarType</span><span class="o">.</span><span class="na">ROWSDETAILBean</span> <span class="n">type</span> <span class="o">=</span> <span class="n">getType</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getPcode</span><span class="o">());</span>
            <span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_fen</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&#34;扣分： &#34;</span> <span class="o">+</span> <span class="n">type</span><span class="o">.</span><span class="na">getPscore</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34; 分&#34;</span><span class="o">);</span>
            <span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_money</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&#34;罚款： &#34;</span> <span class="o">+</span> <span class="n">type</span><span class="o">.</span><span class="na">getPscore</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34; 元&#34;</span><span class="o">);</span>
            <span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_premarks</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">type</span><span class="o">.</span><span class="na">getPremarks</span><span class="o">());</span>
            <span class="n">convertView</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">startActivity</span><span class="o">(</span><span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span><span class="n">Activity_4_2</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="k">return</span> <span class="n">convertView</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">class</span> <span class="nc">ViewHolder</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="n">View</span> <span class="n">rootView</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_time</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_cl</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_paddr</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_premarks</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_fen</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_money</span><span class="o">;</span>

            <span class="kd">public</span> <span class="nf">ViewHolder</span><span class="o">(</span><span class="n">View</span> <span class="n">rootView</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">rootView</span> <span class="o">=</span> <span class="n">rootView</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_time</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_time</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_cl</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_cl</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_paddr</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_paddr</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_premarks</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_premarks</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_fen</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_fen</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_money</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_money</span><span class="o">);</span>
            <span class="o">}</span>

        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>缩放和车辆违章里的大差不差</p>
]]></description>
</item><item>
    <title> 轮播图</title>
    <link>https://seekwj.github.io/%E8%BD%AE%E6%92%AD%E5%9B%BE/</link>
    <pubDate>Mon, 05 Oct 2020 20:10:40 &#43;0800</pubDate>
    <author>作者</author>
    <guid>https://seekwj.github.io/%E8%BD%AE%E6%92%AD%E5%9B%BE/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/md/Android/%e6%af%94%e8%b5%9b/%e8%bd%ae%e6%92%ad%e5%9b%be.jpg" referrerpolicy="no-referrer">
            </div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FragmentLunBo</span> <span class="kd">extends</span> <span class="n">Fragment</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">ImageView</span> <span class="n">iv_left</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">LinearLayout</span> <span class="n">points</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ImageView</span> <span class="n">iv_right</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">boolean</span> <span class="n">isTouch</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ViewPager</span> <span class="n">lunbo</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">Timer</span> <span class="n">timer</span><span class="o">;</span>
    <span class="c1">//四张轮播的图片
</span><span class="c1"></span>    <span class="kd">private</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">imgs</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;()</span> <span class="o">{{</span>
        <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">lunb1</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">lunb2</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">lunb3</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">lunb4</span><span class="o">);</span>
    <span class="o">}};</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">View</span> <span class="nf">onCreateView</span><span class="o">(</span><span class="n">LayoutInflater</span> <span class="n">inflater</span><span class="o">,</span> <span class="n">ViewGroup</span> <span class="n">container</span><span class="o">,</span>
                             <span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">View</span> <span class="n">view</span> <span class="o">=</span> <span class="n">inflater</span>
                <span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">fragment_lunbo</span><span class="o">,</span> <span class="n">container</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
        <span class="n">initView</span><span class="o">(</span><span class="n">view</span><span class="o">);</span> <span class="c1">//初始化控件
</span><span class="c1"></span>        <span class="k">return</span> <span class="n">view</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">initView</span><span class="o">(</span><span class="n">View</span> <span class="n">rootView</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">isTouch</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="n">timer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Timer</span><span class="o">();</span>
        <span class="k">this</span><span class="o">.</span><span class="na">iv_left</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">iv_left</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">points</span> <span class="o">=</span> <span class="o">(</span><span class="n">LinearLayout</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">points</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">iv_right</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">iv_right</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">lunbo</span> <span class="o">=</span> <span class="o">(</span><span class="n">ViewPager</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">lunbo</span><span class="o">);</span>
       	<span class="c1">//.....//详细代码下面分段解释
</span><span class="c1"></span>    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="控件数据初始化"><strong>控件数据初始化</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="c1">//viewpager设置适配器       
</span><span class="c1"></span><span class="n">lunbo</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="k">new</span> <span class="n">PageAdapter</span><span class="o">());</span>
<span class="c1">//viewpager下面的标记点
</span><span class="c1"></span><span class="n">initPoints</span><span class="o">();</span>
<span class="c1">//设置一开始轮播图在第一张        
</span><span class="c1"></span><span class="n">lunbo</span><span class="o">.</span><span class="na">setCurrentItem</span><span class="o">(</span><span class="n">0</span><span class="o">);</span>
<span class="c1">//设置标记点第一个为选中状态        
</span><span class="c1"></span><span class="n">selectdePoint</span><span class="o">(</span><span class="n">0</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>生成轮播图标记的代码</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">  <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initPoints</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">4</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span><span class="c1">//因为只有四张图所以循环四次 实际可以根据图片集合的长度来循环list。size()
</span><span class="c1"></span>            <span class="n">View</span> <span class="n">view</span> <span class="o">=</span> <span class="k">new</span> <span class="n">View</span><span class="o">(</span><span class="n">getContext</span><span class="o">());</span>
            <span class="n">view</span><span class="o">.</span><span class="na">setBackgroundResource</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">border_white_shape</span><span class="o">);</span>
            <span class="n">LinearLayout</span><span class="o">.</span><span class="na">LayoutParams</span> <span class="n">layoutParams</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinearLayout</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">(</span><span class="n">15</span><span class="o">,</span> <span class="n">15</span><span class="o">);</span>
            <span class="n">layoutParams</span><span class="o">.</span><span class="na">leftMargin</span> <span class="o">=</span> <span class="n">20</span><span class="o">;</span> 
            <span class="n">view</span><span class="o">.</span><span class="na">setLayoutParams</span><span class="o">(</span><span class="n">layoutParams</span><span class="o">);</span>
            <span class="n">points</span><span class="o">.</span><span class="na">addView</span><span class="o">(</span><span class="n">view</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="轮播图标记联动代码"><strong>轮播图标记联动代码</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">//viewpager监听事件        
</span><span class="c1"></span><span class="n">lunbo</span><span class="o">.</span><span class="na">addOnPageChangeListener</span><span class="o">(</span><span class="k">new</span> <span class="n">ViewPager</span><span class="o">.</span><span class="na">OnPageChangeListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onPageScrolled</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="kt">float</span> <span class="n">positionOffset</span><span class="o">,</span> <span class="kt">int</span> <span class="n">positionOffsetPixels</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onPageSelected</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
                <span class="kt">int</span> <span class="n">rel</span> <span class="o">=</span> <span class="n">position</span> <span class="o">%</span> <span class="n">4</span><span class="o">;</span> <span class="c1">//返回但钱对应的viewpager页面下标
</span><span class="c1"></span>                <span class="n">selectdePoint</span><span class="o">(</span><span class="n">rel</span><span class="o">);</span>
            <span class="o">}</span>

            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onPageScrollStateChanged</span><span class="o">(</span><span class="kt">int</span> <span class="n">state</span><span class="o">)</span> <span class="o">{</span>

            <span class="o">}</span>
        <span class="o">});</span>

<span class="c1">//更具索引来设置标记点的状态
</span><span class="c1"></span> <span class="kd">private</span> <span class="kt">void</span> <span class="nf">selectdePoint</span><span class="o">(</span><span class="kt">int</span> <span class="n">pos</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">4</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">View</span> <span class="n">view</span> <span class="o">=</span> <span class="n">points</span><span class="o">.</span><span class="na">getChildAt</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">pos</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">view</span><span class="o">.</span><span class="na">setBackgroundResource</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">border_blue_shape</span><span class="o">);</span>
            <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                <span class="n">view</span><span class="o">.</span><span class="na">setBackgroundResource</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">border_white_shape</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="自动轮播的定时器"><strong>自动轮播的定时器</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">  <span class="n">timer</span><span class="o">.</span><span class="na">schedule</span><span class="o">(</span><span class="k">new</span> <span class="n">TimerTask</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">getActivity</span><span class="o">().</span><span class="na">runOnUiThread</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
                    <span class="nd">@Override</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                        <span class="c1">//是否自动轮播如果点击箭头或滑动切换轮播图时 停止自动轮播
</span><span class="c1"></span>                        <span class="k">if</span> <span class="o">(</span><span class="n">isTouch</span><span class="o">)</span> <span class="o">{</span>
                            <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">lunbo</span><span class="o">.</span><span class="na">getCurrentItem</span><span class="o">()</span> <span class="o">+</span> <span class="n">1</span><span class="o">;</span>
                            <span class="n">lunbo</span><span class="o">.</span><span class="na">setCurrentItem</span><span class="o">(</span><span class="n">index</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
                        <span class="o">}</span>
                    <span class="o">}</span>
                <span class="o">});</span>
            <span class="o">}</span>
        <span class="o">},</span> <span class="n">1500</span><span class="o">,</span> <span class="n">2000</span><span class="o">);</span><span class="c1">//第一次开启时延时1.5秒来要不然太快看不到第一张图片 每2秒切换下一张图片
</span></code></pre></td></tr></table>
</div>
</div><h2 id="viewpager左右滑动时停止自动轮播的代码"><strong><code>ViewPager</code>左右滑动时停止自动轮播的代码</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="n">lunbo</span><span class="o">.</span><span class="na">setOnTouchListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnTouchListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onTouch</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">,</span> <span class="n">MotionEvent</span> <span class="n">motionEvent</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">isTouch</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span> <span class="c1">//直接在事件开始将是否停止自动轮播属性设为false
</span><span class="c1"></span>                <span class="k">switch</span> <span class="o">(</span><span class="n">motionEvent</span><span class="o">.</span><span class="na">getAction</span><span class="o">())</span> <span class="o">{</span>
                   <span class="c1">// case MotionEvent.ACTION_DOWN://因为图片设置了点击事件所以viewpager监听触摸事件监听不到按下的事件
</span><span class="c1"></span>                   <span class="c1">//     isTouch = false;
</span><span class="c1"></span>                   <span class="c1">//     break;
</span><span class="c1"></span>                    <span class="k">case</span> <span class="n">MotionEvent</span><span class="o">.</span><span class="na">ACTION_CANCEL</span><span class="o">:</span>
                    <span class="k">case</span> <span class="n">MotionEvent</span><span class="o">.</span><span class="na">ACTION_UP</span><span class="o">:</span>
                        <span class="c1">//viewpager滑动结束1.5秒后开启自动轮播
</span><span class="c1"></span>                        <span class="n">timer</span><span class="o">.</span><span class="na">schedule</span><span class="o">(</span><span class="k">new</span> <span class="n">TimerTask</span><span class="o">()</span> <span class="o">{</span>
                            <span class="nd">@Override</span>
                            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                                <span class="n">isTouch</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
                            <span class="o">}</span>
                        <span class="o">},</span><span class="n">1500</span><span class="o">);</span>
                        <span class="k">break</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">});</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="两边箭头点击切换轮播图的代码"><strong>两边箭头点击切换轮播图的代码</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">//左边箭头点击事件 
</span><span class="c1"></span><span class="n">iv_left</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//获得上一个轮播图的位置
</span><span class="c1"></span>                <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">lunbo</span><span class="o">.</span><span class="na">getCurrentItem</span><span class="o">()</span> <span class="o">-</span> <span class="n">1</span><span class="o">;</span>
                <span class="n">jianto</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
<span class="c1">//右边箭头点击事件
</span><span class="c1"></span><span class="n">iv_right</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//获得下一个轮播图的位置
</span><span class="c1"></span>                <span class="kt">int</span> <span class="n">index</span> <span class="o">=</span> <span class="n">lunbo</span><span class="o">.</span><span class="na">getCurrentItem</span><span class="o">()</span> <span class="o">+</span> <span class="n">1</span><span class="o">;</span>
                <span class="n">jianto</span><span class="o">(</span><span class="n">index</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>

<span class="c1">//设置轮播图到对应位置和点击箭头时停止自动轮播的方法
</span><span class="c1"></span><span class="kd">private</span> <span class="kt">void</span> <span class="nf">jianto</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">isTouch</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
        <span class="n">lunbo</span><span class="o">.</span><span class="na">setCurrentItem</span><span class="o">(</span><span class="n">index</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
        <span class="n">timer</span><span class="o">.</span><span class="na">schedule</span><span class="o">(</span><span class="k">new</span> <span class="n">TimerTask</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">isTouch</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">},</span> <span class="n">1500</span><span class="o">);</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="viewpager适配器"><strong><code>ViewPager</code>适配器</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">  <span class="kd">private</span> <span class="kd">class</span> <span class="nc">PageAdapter</span> <span class="kd">extends</span> <span class="n">PagerAdapter</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">Integer</span><span class="o">.</span><span class="na">MAX_VALUE</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isViewFromObject</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="n">View</span> <span class="n">view</span><span class="o">,</span> <span class="nd">@NonNull</span> <span class="n">Object</span> <span class="n">object</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">view</span> <span class="o">==</span> <span class="n">object</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@NonNull</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">Object</span> <span class="nf">instantiateItem</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="n">ViewGroup</span> <span class="n">container</span><span class="o">,</span> <span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">final</span> <span class="kt">int</span> <span class="n">real</span> <span class="o">=</span> <span class="n">position</span> <span class="o">%</span> <span class="n">imgs</span><span class="o">.</span><span class="na">size</span><span class="o">();</span><span class="c1">//imgs为图片集合 
</span><span class="c1"></span>            <span class="n">ImageView</span> <span class="n">imageView</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ImageView</span><span class="o">(</span><span class="n">container</span><span class="o">.</span><span class="na">getContext</span><span class="o">());</span>
            <span class="n">imageView</span><span class="o">.</span><span class="na">setScaleType</span><span class="o">(</span><span class="n">ImageView</span><span class="o">.</span><span class="na">ScaleType</span><span class="o">.</span><span class="na">FIT_XY</span><span class="o">);</span><span class="c1">//使图片充满布局
</span><span class="c1"></span>            <span class="n">imageView</span><span class="o">.</span><span class="na">setImageResource</span><span class="o">(</span><span class="n">imgs</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">real</span><span class="o">));</span>
            <span class="c1">//设置图片点击事件
</span><span class="c1"></span>            <span class="n">imageView</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">imgClick</span><span class="o">(</span><span class="n">real</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="n">container</span><span class="o">.</span><span class="na">addView</span><span class="o">(</span><span class="n">imageView</span><span class="o">);</span>
            <span class="k">return</span> <span class="n">imageView</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">destroyItem</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="n">ViewGroup</span> <span class="n">container</span><span class="o">,</span> <span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="nd">@NonNull</span> <span class="n">Object</span> <span class="n">object</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">container</span><span class="o">.</span><span class="na">removeView</span><span class="o">((</span><span class="n">View</span><span class="o">)</span> <span class="n">object</span><span class="o">);</span> 
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="轮播图图片点击事件"><strong>轮播图图片点击事件</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="kt">void</span> <span class="nf">imgClick</span><span class="o">(</span><span class="kt">int</span> <span class="n">real</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">getArguments</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span> <span class="c1">//如果是新闻入口进来的轮播图则让他跳转到新闻
</span><span class="c1"></span>            <span class="n">getFragmentManager</span><span class="o">().</span><span class="na">beginTransaction</span><span class="o">().</span><span class="na">addToBackStack</span><span class="o">(</span><span class="kc">null</span><span class="o">).</span><span class="na">replace</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">mian</span><span class="o">,</span> <span class="k">new</span> <span class="n">Fragment_4</span><span class="o">()).</span><span class="na">commit</span><span class="o">();</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
<span class="c1">//主页入口的轮播图则按对应跳转到相对应得项目
</span><span class="c1"></span><span class="k">switch</span> <span class="o">(</span><span class="n">real</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">case</span> <span class="n">0</span><span class="o">:</span>
        <span class="c1">//如果是对应底部导航栏 的则模拟点击底部导航栏       
</span><span class="c1"></span>        <span class="n">getActivity</span><span class="o">().</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">ll_xw</span><span class="o">).</span><span class="na">performClick</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">1</span><span class="o">:</span>
                <span class="n">getFragmentManager</span><span class="o">().</span><span class="na">beginTransaction</span><span class="o">().</span><span class="na">replace</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">mian</span><span class="o">,</span> <span class="k">new</span> <span class="n">Fragment_3</span><span class="o">()).</span><span class="na">addToBackStack</span><span class="o">(</span><span class="kc">null</span><span class="o">).</span><span class="na">commit</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">2</span><span class="o">:</span>
                <span class="n">getFragmentManager</span><span class="o">().</span><span class="na">beginTransaction</span><span class="o">().</span><span class="na">replace</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">mian</span><span class="o">,</span> <span class="k">new</span> <span class="n">Fragment_7</span><span class="o">()).</span><span class="na">addToBackStack</span><span class="o">(</span><span class="kc">null</span><span class="o">).</span><span class="na">commit</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">3</span><span class="o">:</span>
                <span class="n">getActivity</span><span class="o">().</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">ll_tq</span><span class="o">).</span><span class="na">performClick</span><span class="o">();</span>
                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>==<strong>最后记得在页面退出时停止轮播图自动轮播的定时器</strong>==</p>
]]></description>
</item><item>
    <title>OrmLite数据库</title>
    <link>https://seekwj.github.io/ormlite%E6%95%B0%E6%8D%AE%E5%BA%93/</link>
    <pubDate>Mon, 05 Oct 2020 20:00:14 &#43;0800</pubDate>
    <author>作者</author>
    <guid>https://seekwj.github.io/ormlite%E6%95%B0%E6%8D%AE%E5%BA%93/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/md/Android/Android.webp" referrerpolicy="no-referrer">
            </div><h2 id="数据库的增删改查操作"><strong>数据库的增删改查操作</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="c1">// Dao dao = MyHelper.getInstance().getDao(User.class);
</span><span class="c1"></span>
            <span class="n">Dao</span> <span class="n">dao</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyHelper</span><span class="o">(</span><span class="k">this</span><span class="o">).</span><span class="na">getDao</span><span class="o">(</span><span class="n">User</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>


            <span class="c1">//耗时异步  , 主界面初始化数据表的时候
</span><span class="c1"></span>            <span class="n">dao</span><span class="o">.</span><span class="na">callBatchTasks</span><span class="o">(</span><span class="k">new</span> <span class="n">Callable</span><span class="o">()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">public</span> <span class="n">Object</span> <span class="nf">call</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
                <span class="o">}</span>
            <span class="o">});</span>


         <span class="cm">/*   for (int i = 500; i &lt; 500 + 10; i++) {
</span><span class="cm">                User user = new User();
</span><span class="cm">                user.setAge(19);
</span><span class="cm">                user.setName(&#34;lla张三&#34; + i);
</span><span class="cm">                //插入
</span><span class="cm">                dao.create(user);
</span><span class="cm">                //将整个集合中的数据插入到数据库中
</span><span class="cm">                //dao.create()
</span><span class="cm">            }*/</span>

            <span class="c1">//查询所有
</span><span class="c1"></span>            <span class="c1">//   List&lt;User&gt; list = dao.queryForAll();
</span><span class="c1"></span>            <span class="c1">//删除单个对象,或者整个集合,前提,对象或者集合,是查询出来的,不能是自己创建
</span><span class="c1"></span>            <span class="c1">//dao.delete(list);
</span><span class="c1"></span>
            <span class="c1">//更新的对象也是查询出来的
</span><span class="c1"></span>            <span class="c1">// dao.update()
</span><span class="c1"></span>
            <span class="c1">//*****************************重要******************************条件
</span><span class="c1"></span>            <span class="c1">//统计数量
</span><span class="c1">//            long l = dao.queryBuilder().countOf();
</span><span class="c1">//            Log.e(&#34;TAG&#34;, &#34;---countOf--------&#34; + l);
</span><span class="c1"></span>
            <span class="c1">//查询有关名字为张三的
</span><span class="c1"></span>            <span class="c1">//List list1 = dao.queryForEq(&#34;name&#34;, &#34;张三0&#34;);
</span><span class="c1"></span>
            <span class="c1">//根据id删除,id的集合
</span><span class="c1"></span>            <span class="c1">//dao.deleteIds()
</span><span class="c1"></span>

            <span class="c1">//跳过几个 ,查询几个
</span><span class="c1"></span>            <span class="c1">// List list = dao.queryBuilder().offset(5L).limit(5L).query();
</span><span class="c1"></span>            <span class="c1">//查询第一个
</span><span class="c1"></span>            <span class="c1">//dao.queryBuilder().offset(5L).limit(5L).queryForFirst();
</span><span class="c1"></span>
            <span class="c1">//去重查询
</span><span class="c1"></span>            <span class="c1">// dao.queryBuilder().distinct().query();
</span><span class="c1"></span>            <span class="c1">//查询所有
</span><span class="c1"></span>            <span class="c1">// dao.queryBuilder().query();
</span><span class="c1"></span>
            <span class="c1">//根据carnumber进行分组,每个carnumber只留最后一条数据//
</span><span class="c1"></span>            <span class="c1">// List list = dao.queryBuilder().groupBy(&#34;name&#34;).query();
</span><span class="c1"></span>
            <span class="c1">// List list = dao.queryBuilder().groupBy(&#34;age&#34;).having(&#34; age = 19 &#34;).query();
</span><span class="c1"></span>
            <span class="c1">//dao.queryBuilder().where().eq().query()// 完全等价dao.queryForEq(&#34;name&#34;, &#34;张三0&#34;)
</span><span class="c1"></span>
            <span class="c1">// List list = dao.queryBuilder().where().eq(&#34;name&#34;, &#34;张三0&#34;).and().eq(&#34;age&#34;, 18).query();
</span><span class="c1"></span>            <span class="c1">//    List list = dao.queryBuilder().where().eq(&#34;name&#34;, &#34;张三1&#34;).or().eq(&#34;name&#34;, &#34;张三2&#34;).query();
</span><span class="c1"></span>
            <span class="c1">// List list = dao.queryBuilder().where().like(&#34;name&#34;, &#34;%张三%&#34;).and().eq(&#34;age&#34;, 19).query();
</span><span class="c1"></span>
            <span class="c1">// List list = dao.queryBuilder().where().le(&#34;age&#34;, 21).query();
</span><span class="c1"></span>            <span class="c1">//le &lt;=
</span><span class="c1"></span>            <span class="c1">//lt &lt;
</span><span class="c1"></span>            <span class="c1">//gt &gt;=
</span><span class="c1"></span>            <span class="c1">// ge &gt;
</span><span class="c1"></span>            <span class="c1">//notIn
</span><span class="c1"></span>            <span class="c1">//between
</span><span class="c1"></span>            <span class="c1">//like
</span><span class="c1"></span>            <span class="c1">//List list = dao.queryBuilder().where().gt(&#34;age&#34;, 100).query();
</span><span class="c1"></span>
            <span class="c1">//false 降序
</span><span class="c1"></span>            <span class="n">List</span> <span class="n">list</span> <span class="o">=</span> <span class="n">dao</span><span class="o">.</span><span class="na">queryBuilder</span><span class="o">().</span><span class="na">orderBy</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="kc">false</span><span class="o">).</span><span class="na">where</span><span class="o">().</span><span class="na">gt</span><span class="o">(</span><span class="s">&#34;age&#34;</span><span class="o">,</span> <span class="n">100</span><span class="o">).</span><span class="na">query</span><span class="o">();</span>


            <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&#34;TAG&#34;</span><span class="o">,</span> <span class="s">&#34;---countOf--------&#34;</span> <span class="o">+</span> <span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>


            <span class="c1">//************************************************
</span><span class="c1"></span>

            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">list</span><span class="o">.</span><span class="na">size</span><span class="o">();</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&#34;TAG&#34;</span><span class="o">,</span> <span class="s">&#34;-----------&#34;</span> <span class="o">+</span> <span class="n">list</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
            <span class="o">}</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>


    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyHelper</span> <span class="kd">extends</span> <span class="n">OrmLiteSqliteOpenHelper</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">MyHelper</span> <span class="n">helper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">MyHelper</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="s">&#34;db.db&#34;</span><span class="o">,</span> <span class="kc">null</span><span class="o">,</span> <span class="n">6</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">,</span> <span class="n">ConnectionSource</span> <span class="n">connectionSource</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
           <span class="c1">// TableUtils.clearTable()
</span><span class="c1"></span>            <span class="c1">//建表
</span><span class="c1"></span>            <span class="n">TableUtils</span><span class="o">.</span><span class="na">createTable</span><span class="o">(</span><span class="n">connectionSource</span><span class="o">,</span> <span class="n">User</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&#34;TAG&#34;</span><span class="o">,</span> <span class="s">&#34;-----------clearTable----&#34;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">//单例获取
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="n">MyHelper</span> <span class="nf">getInstance</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">helper</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">synchronized</span> <span class="o">(</span><span class="n">MyHelper</span><span class="o">.</span><span class="na">class</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">helper</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">helper</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyHelper</span><span class="o">(</span><span class="n">AppClient</span><span class="o">.</span><span class="na">mContext</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">helper</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onUpgrade</span><span class="o">(</span><span class="n">SQLiteDatabase</span> <span class="n">sqLiteDatabase</span><span class="o">,</span> <span class="n">ConnectionSource</span> <span class="n">connectionSource</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="kt">int</span> <span class="n">i1</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">TableUtils</span><span class="o">.</span><span class="na">dropTable</span><span class="o">(</span><span class="n">connectionSource</span><span class="o">,</span> <span class="n">User</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
            <span class="n">onCreate</span><span class="o">(</span><span class="n">sqLiteDatabase</span><span class="o">,</span> <span class="n">connectionSource</span><span class="o">);</span>
            <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&#34;TAG&#34;</span><span class="o">,</span> <span class="s">&#34;-----------dropTable----&#34;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="c1">//获取dao执行对象
</span><span class="c1"></span>    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Dao</span> <span class="nf">getDao</span><span class="o">(</span><span class="n">Class</span> <span class="n">clazz</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">SQLException</span> <span class="o">{</span>
        <span class="k">return</span> <span class="kd">super</span><span class="o">.</span><span class="na">getDao</span><span class="o">(</span><span class="n">clazz</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></td></tr></table>
</div>
</div><h2 id="javabean中需要用到的属性必须要写标注"><strong><code>JavaBean</code>中需要用到的属性必须要写标注</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@DatabaseTable</span><span class="o">(</span><span class="n">tableName</span> <span class="o">=</span> <span class="s">&#34;User&#34;</span><span class="o">)</span> <span class="c1">//必须要写标注
</span><span class="c1"></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="c1">//自增,主键
</span><span class="c1"></span>    <span class="nd">@DatabaseField</span><span class="o">(</span><span class="n">generatedId</span> <span class="o">=</span> <span class="kc">true</span><span class="o">,</span> <span class="n">columnName</span> <span class="o">=</span> <span class="s">&#34;_id&#34;</span><span class="o">)</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">_id</span><span class="o">;</span>
    <span class="nd">@DatabaseField</span><span class="o">(</span><span class="n">columnName</span> <span class="o">=</span> <span class="s">&#34;name&#34;</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="nd">@DatabaseField</span><span class="o">(</span><span class="n">columnName</span> <span class="o">=</span> <span class="s">&#34;age&#34;</span><span class="o">)</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>


    <span class="c1">//必须有空参
</span><span class="c1"></span>    <span class="kd">public</span> <span class="nf">User</span><span class="o">()</span> <span class="o">{</span>

    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">get_id</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">_id</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">set_id</span><span class="o">(</span><span class="kt">int</span> <span class="n">_id</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">_id</span> <span class="o">=</span> <span class="n">_id</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setAge</span><span class="o">(</span><span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>


    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&#34;User{&#34;</span> <span class="o">+</span>
                <span class="s">&#34;_id=&#34;</span> <span class="o">+</span> <span class="n">_id</span> <span class="o">+</span>
                <span class="s">&#34;, name=&#39;&#34;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="sc">&#39;\&#39;&#39;</span> <span class="o">+</span>
                <span class="s">&#34;, age=&#34;</span> <span class="o">+</span> <span class="n">age</span> <span class="o">+</span>
                <span class="sc">&#39;}&#39;</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div>]]></description>
</item><item>
    <title>账户管理</title>
    <link>https://seekwj.github.io/%E8%B4%A6%E6%88%B7%E7%AE%A1%E7%90%86/</link>
    <pubDate>Wed, 30 Sep 2020 19:09:11 &#43;0800</pubDate>
    <author>作者</author>
    <guid>https://seekwj.github.io/%E8%B4%A6%E6%88%B7%E7%AE%A1%E7%90%86/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/md/Android/%e6%af%94%e8%b5%9b/%e8%b4%a6%e6%88%b7%e7%ae%a1%e7%90%86/%e8%b4%a6%e6%88%b7%e7%ae%a1%e7%90%86.png" referrerpolicy="no-referrer">
            </div><h2 id="xml就是一个listview"><strong><code>XML就是一个</code>ListView</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:background=</span><span class="s">&#34;#f1f1f1&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span> <span class="nt">&gt;</span>
    <span class="nt">&lt;ListView</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/lv_car&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="initdata准备数据"><strong><code>initData()</code>准备数据</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initData</span><span class="o">()</span> <span class="o">{</span>
     	<span class="c1">//在sp里取小车余额的阈值 ，没有则为-1
</span><span class="c1"></span>        <span class="n">caryz</span> <span class="o">=</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">sp</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">&#34;caryz&#34;</span><span class="o">,</span> <span class="o">-</span><span class="n">1</span><span class="o">);</span>
     	<span class="c1">//用来存批量充值的集合
</span><span class="c1"></span>		<span class="n">czlist</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
     	<span class="c1">//在sp里取出小车数据
</span><span class="c1"></span>		<span class="n">String</span> <span class="n">car</span> <span class="o">=</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">sp</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;car&#34;</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
     	<span class="c1">//转换成集合形式
</span><span class="c1"></span>        <span class="n">listCar</span> <span class="o">=</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">gson</span><span class="o">.</span><span class="na">fromJson</span><span class="o">(</span><span class="n">car</span><span class="o">,</span> <span class="k">new</span> <span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Car</span><span class="o">.</span><span class="na">ROWSDETAILBean</span><span class="o">&gt;&gt;()</span> <span class="o">{</span>
        <span class="o">}.</span><span class="na">getType</span><span class="o">());</span>
     	<span class="c1">//设置适配器
</span><span class="c1"></span>        <span class="n">lv_car</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="k">new</span> <span class="n">carAdapter</span><span class="o">());</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="onstart方法"><code>onStart()</code>方法</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onStart</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onStart</span><span class="o">();</span>
        <span class="c1">//获得标题栏上的充值记录和批量充值控件
</span><span class="c1"></span>        <span class="n">TextView</span> <span class="n">tv_plcz</span> <span class="o">=</span> <span class="n">getActivity</span><span class="o">().</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_plcz</span><span class="o">);</span>
        <span class="n">TextView</span> <span class="n">tv_czjl</span> <span class="o">=</span> <span class="n">getActivity</span><span class="o">().</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_czjl</span><span class="o">);</span>
        <span class="n">tv_plcz</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">//判断存放批量充值对象的集合里是否有对象
</span><span class="c1"></span>                <span class="k">if</span> <span class="o">(</span><span class="n">czlist</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="n">0</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InitApp</span><span class="o">.</span><span class="na">toast</span><span class="o">(</span><span class="s">&#34;您还没有选择充值的车辆&#34;</span><span class="o">);</span>
                    <span class="k">return</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="n">showDiglog</span><span class="o">(</span><span class="n">czlist</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">tv_czjl</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">Fragment_3</span> <span class="n">fragment_3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Fragment_3</span><span class="o">();</span>
                <span class="n">fragment_3</span><span class="o">.</span><span class="na">setArguments</span><span class="o">(</span><span class="k">new</span> <span class="n">Bundle</span><span class="o">());</span>
                <span class="n">getFragmentManager</span><span class="o">().</span><span class="na">beginTransaction</span><span class="o">().</span><span class="na">replace</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">maincontent</span><span class="o">,</span> <span class="n">fragment_3</span><span class="o">).</span><span class="na">commit</span><span class="o">();</span>
                <span class="n">TextView</span> <span class="n">textView</span> <span class="o">=</span> <span class="n">getActivity</span><span class="o">().</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_title</span><span class="o">);</span>
                <span class="n">textView</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&#34;个人中心&#34;</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="onstop方法"><strong><code>onStop()</code>方法</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">  <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onStop</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onStop</span><span class="o">();</span>
        <span class="c1">//将标题栏中的充值记录和批量充值控件隐藏
</span><span class="c1"></span>        <span class="n">tv_plcz</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>
        <span class="n">tv_czjl</span><span class="o">.</span><span class="na">setVisibility</span><span class="o">(</span><span class="n">View</span><span class="o">.</span><span class="na">GONE</span><span class="o">);</span>
        <span class="c1">//将小车信息存入sp中
</span><span class="c1"></span>        <span class="n">InitApp</span><span class="o">.</span><span class="na">edit</span><span class="o">.</span><span class="na">putString</span><span class="o">(</span><span class="s">&#34;car&#34;</span><span class="o">,</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">gson</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">listCar</span><span class="o">)).</span><span class="na">commit</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="充值对话框"><strong>充值对话框</strong></h2>
<p></p>
<h3 id="car_dialogxml对话框布局"><code>car_dialog.xml</code>对话框布局</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
    <span class="na">android:background=</span><span class="s">&#34;@drawable/boder_bh&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span> <span class="nt">&gt;</span>

    <span class="nt">&lt;TextView</span>
        <span class="na">android:textSize=</span><span class="s">&#34;30sp&#34;</span>
        <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span>
        <span class="na">android:textStyle=</span><span class="s">&#34;bold&#34;</span>
        <span class="na">android:gravity=</span><span class="s">&#34;center_vertical&#34;</span>
        <span class="na">android:paddingLeft=</span><span class="s">&#34;30sp&#34;</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/textView1&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;80dp&#34;</span>
        <span class="na">android:background=</span><span class="s">&#34;@drawable/boder_hh&#34;</span>
        <span class="na">android:text=</span><span class="s">&#34;车辆账户充值&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;LinearLayout</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:background=</span><span class="s">&#34;#ffffff&#34;</span>
        <span class="na">android:layout_marginRight=</span><span class="s">&#34;10dp&#34;</span>
        <span class="na">android:layout_marginLeft=</span><span class="s">&#34;10dp&#34;</span>
        <span class="na">android:layout_marginTop=</span><span class="s">&#34;40dp&#34;</span>
        <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span> <span class="nt">&gt;</span>
        <span class="nt">&lt;TextView</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;100dp&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_marginLeft=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:gravity=</span><span class="s">&#34;right&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;车牌号：&#34;</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span> <span class="nt">&gt;</span>
        <span class="nt">&lt;/TextView&gt;</span>

        <span class="nt">&lt;ScrollView</span>
            <span class="na">android:layout_marginLeft=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:layout_marginRight=</span><span class="s">&#34;20dp&#34;</span>
            <span class="na">android:gravity=</span><span class="s">&#34;left&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;20dp&#34;</span><span class="nt">&gt;</span>

            <span class="nt">&lt;TextView</span>
                <span class="na">android:id=</span><span class="s">&#34;@+id/tv_cps&#34;</span>
                <span class="na">android:textSize=</span><span class="s">&#34;18sp&#34;</span>
                <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span>
                <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
                <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/ScrollView&gt;</span>

    <span class="nt">&lt;/LinearLayout&gt;</span>
    <span class="nt">&lt;LinearLayout</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:layout_marginRight=</span><span class="s">&#34;10dp&#34;</span>
        <span class="na">android:layout_marginTop=</span><span class="s">&#34;20dp&#34;</span>
        <span class="na">android:layout_marginLeft=</span><span class="s">&#34;10dp&#34;</span>
        <span class="na">android:background=</span><span class="s">&#34;#ffffff&#34;</span>
        <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span> <span class="nt">&gt;</span>
        <span class="nt">&lt;TextView</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;100dp&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_marginLeft=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:gravity=</span><span class="s">&#34;right&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;充值金额：&#34;</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span> <span class="nt">&gt;</span>
        <span class="nt">&lt;/TextView&gt;</span>

        <span class="nt">&lt;EditText</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/et_cz&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;180dp&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_marginLeft=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:layout_marginRight=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:gravity=</span><span class="s">&#34;left&#34;</span>
            <span class="na">android:singleLine=</span><span class="s">&#34;true&#34;</span>
            <span class="na">android:maxLength=</span><span class="s">&#34;3&#34;</span>
            <span class="na">android:inputType=</span><span class="s">&#34;number&#34;</span>
            <span class="na">android:padding=</span><span class="s">&#34;5dp&#34;</span>
            <span class="na">android:lines=</span><span class="s">&#34;1&#34;</span>
            <span class="na">android:hint=</span><span class="s">&#34;1~999&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;&#34;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;/EditText&gt;</span>
        <span class="nt">&lt;TextView</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:layout_marginLeft=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:gravity=</span><span class="s">&#34;right&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;元&#34;</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span> <span class="nt">&gt;</span>
        <span class="nt">&lt;/TextView&gt;</span>
    <span class="nt">&lt;/LinearLayout&gt;</span>



    <span class="nt">&lt;LinearLayout</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:layout_marginTop=</span><span class="s">&#34;40dp&#34;</span>
        <span class="na">android:layout_marginBottom=</span><span class="s">&#34;40dp&#34;</span>
        <span class="na">android:gravity=</span><span class="s">&#34;center&#34;</span>
        <span class="na">android:orientation=</span><span class="s">&#34;horizontal&#34;</span><span class="nt">&gt;</span>

        <span class="nt">&lt;Button</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/bt_cz&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;100dp&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:padding=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:textStyle=</span><span class="s">&#34;bold&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;充值&#34;</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Button</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/bt_qx&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;100dp&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span>
            <span class="na">android:padding=</span><span class="s">&#34;10dp&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;取消&#34;</span>
            <span class="na">android:textStyle=</span><span class="s">&#34;bold&#34;</span>
            <span class="na">android:layout_marginLeft=</span><span class="s">&#34;100dp&#34;</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/LinearLayout&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="kt">void</span> <span class="nf">showDiglog</span><span class="o">(</span><span class="kd">final</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Car</span><span class="o">.</span><span class="na">ROWSDETAILBean</span><span class="o">&gt;</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
		<span class="kd">final</span> <span class="n">Dialog</span> <span class="n">dialog</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Dialog</span><span class="o">(</span><span class="n">getContext</span><span class="o">());</span>
		<span class="n">dialog</span><span class="o">.</span><span class="na">getWindow</span><span class="o">().</span><span class="na">requestFeature</span><span class="o">(</span><span class="n">Window</span><span class="o">.</span><span class="na">FEATURE_NO_TITLE</span><span class="o">);</span>
		<span class="n">dialog</span><span class="o">.</span><span class="na">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">car_dialog</span><span class="o">);</span>
		<span class="n">dialog</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
        <span class="n">TextView</span> <span class="n">tv_cps</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_cps</span><span class="o">);</span>
        <span class="kd">final</span> <span class="n">EditText</span> <span class="n">et_cz</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">et_cz</span><span class="o">);</span>
        <span class="n">Button</span> <span class="n">bt_qx</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bt_qx</span><span class="o">);</span>
        <span class="n">Button</span> <span class="n">bt_cz</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">bt_cz</span><span class="o">);</span>
    	<span class="c1">//循环集合拼接车牌号
</span><span class="c1"></span>        <span class="n">String</span> <span class="n">cps</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="o">;</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">Car</span><span class="o">.</span><span class="na">ROWSDETAILBean</span> <span class="n">bean</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">cps</span> <span class="o">+=</span> <span class="n">bean</span><span class="o">.</span><span class="na">getCarnumber</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34;  &#34;</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">tv_cps</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">cps</span><span class="o">);</span>
    	<span class="c1">//充值按钮监听事件
</span><span class="c1"></span>        <span class="n">bt_cz</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">String</span> <span class="n">mon</span> <span class="o">=</span> <span class="n">et_cz</span><span class="o">.</span><span class="na">getText</span><span class="o">().</span><span class="na">toString</span><span class="o">().</span><span class="na">trim</span><span class="o">();</span>
                <span class="c1">//判断输入框输入是否为空
</span><span class="c1"></span>                <span class="k">if</span> <span class="o">(</span><span class="n">TextUtils</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">(</span><span class="n">mon</span><span class="o">))</span> <span class="o">{</span>
                    <span class="n">InitApp</span><span class="o">.</span><span class="na">toast</span><span class="o">(</span><span class="s">&#34;输入金额不能为空&#34;</span><span class="o">);</span>
                    <span class="k">return</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="c1">//判断输入金额是否在1~999之间
</span><span class="c1"></span>                <span class="kt">int</span> <span class="n">money</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">mon</span><span class="o">);</span>
                <span class="k">if</span> <span class="o">(</span><span class="n">money</span> <span class="o">&lt;=</span> <span class="n">0</span> <span class="o">||</span> <span class="n">money</span> <span class="o">&gt;</span> <span class="n">999</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">InitApp</span><span class="o">.</span><span class="na">toast</span><span class="o">(</span><span class="s">&#34;只能输入1~999之间的整数&#34;</span><span class="o">);</span>
                    <span class="k">return</span><span class="o">;</span>
                <span class="o">}</span>
                <span class="c1">//取sp里的充值记录
</span><span class="c1"></span>                <span class="n">String</span> <span class="n">spString</span> <span class="o">=</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">sp</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;czjl&#34;</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
                <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Czjl</span><span class="o">&gt;</span> <span class="n">czjls</span><span class="o">;</span>
                <span class="c1">//判断sp里的充值记录是否为空
</span><span class="c1"></span>                <span class="k">if</span> <span class="o">(</span><span class="n">spString</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="c1">//为空则新建集合
</span><span class="c1"></span>                    <span class="n">czjls</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
                    <span class="n">czjls</span> <span class="o">=</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">gson</span><span class="o">.</span><span class="na">fromJson</span><span class="o">(</span><span class="n">spString</span><span class="o">,</span> <span class="k">new</span> <span class="n">TypeToken</span><span class="o">&lt;</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Czjl</span><span class="o">&gt;&gt;()</span> <span class="o">{</span>
                    <span class="o">}.</span><span class="na">getType</span><span class="o">());</span>
                <span class="o">}</span>
                <span class="k">for</span> <span class="o">(</span><span class="n">Car</span><span class="o">.</span><span class="na">ROWSDETAILBean</span> <span class="n">bean</span> <span class="o">:</span> <span class="n">list</span><span class="o">)</span> <span class="o">{</span>
                    <span class="n">Czjl</span> <span class="n">czjl</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Czjl</span><span class="o">();</span><span class="c1">//自己写的充值记录javabean对象
</span><span class="c1"></span>                    <span class="n">czjl</span><span class="o">.</span><span class="na">setCarnumber</span><span class="o">(</span><span class="n">bean</span><span class="o">.</span><span class="na">getCarnumber</span><span class="o">());</span>
                    <span class="n">czjl</span><span class="o">.</span><span class="na">setUser</span><span class="o">(</span><span class="n">InitApp</span><span class="o">.</span><span class="na">user</span><span class="o">.</span><span class="na">getPname</span><span class="o">());</span>
                    <span class="n">czjl</span><span class="o">.</span><span class="na">setDate</span><span class="o">(</span><span class="k">new</span> <span class="n">Date</span><span class="o">());</span>
                    <span class="n">czjl</span><span class="o">.</span><span class="na">setCzmoney</span><span class="o">(</span><span class="n">money</span><span class="o">);</span>
                    <span class="n">czjl</span><span class="o">.</span><span class="na">setYue</span><span class="o">(</span><span class="n">bean</span><span class="o">.</span><span class="na">getYue</span><span class="o">()</span> <span class="o">+</span> <span class="n">money</span><span class="o">);</span>
                    <span class="n">listCar</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">bean</span><span class="o">.</span><span class="na">getIndex</span><span class="o">()).</span><span class="na">setYue</span><span class="o">(</span><span class="n">czjl</span><span class="o">.</span><span class="na">getYue</span><span class="o">());</span>
                    <span class="n">czjls</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">0</span><span class="o">,</span><span class="n">czjl</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="c1">//将充值记录存入sp中
</span><span class="c1"></span>                <span class="n">InitApp</span><span class="o">.</span><span class="na">edit</span><span class="o">.</span><span class="na">putString</span><span class="o">(</span><span class="s">&#34;czjl&#34;</span><span class="o">,</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">gson</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">czjls</span><span class="o">)).</span><span class="na">commit</span><span class="o">();</span>
                <span class="n">InitApp</span><span class="o">.</span><span class="na">toast</span><span class="o">(</span><span class="s">&#34;充值成功&#34;</span><span class="o">);</span>
                <span class="c1">//这里不能用适配器的刷新 不然上面的chekbox控件需要多判断
</span><span class="c1"></span>                <span class="n">lv_car</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="k">new</span> <span class="n">carAdapter</span><span class="o">());</span>
                <span class="n">dialog</span><span class="o">.</span><span class="na">dismiss</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">bt_qx</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">dialog</span><span class="o">.</span><span class="na">dismiss</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
	<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="数据适配器"><strong>数据适配器</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span><span class="lnt">74
</span><span class="lnt">75
</span><span class="lnt">76
</span><span class="lnt">77
</span><span class="lnt">78
</span><span class="lnt">79
</span><span class="lnt">80
</span><span class="lnt">81
</span><span class="lnt">82
</span><span class="lnt">83
</span><span class="lnt">84
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="kd">private</span> <span class="kd">class</span> <span class="nc">carAdapter</span> <span class="kd">extends</span> <span class="n">BaseAdapter</span> <span class="o">{</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">listCar</span><span class="o">.</span><span class="na">size</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">Car</span><span class="o">.</span><span class="na">ROWSDETAILBean</span> <span class="nf">getItem</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">listCar</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getItemId</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">View</span> <span class="nf">getView</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">,</span> <span class="n">View</span> <span class="n">view</span><span class="o">,</span> <span class="n">ViewGroup</span> <span class="n">viewGroup</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">ViewHolder</span> <span class="n">viewHolder</span><span class="o">;</span>
			<span class="k">if</span> <span class="o">(</span><span class="n">view</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">view</span> <span class="o">=</span> <span class="n">LayoutInflater</span><span class="o">.</span><span class="na">from</span><span class="o">(</span><span class="n">viewGroup</span><span class="o">.</span><span class="na">getContext</span><span class="o">()).</span><span class="na">inflate</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">item_car</span><span class="o">,</span> <span class="n">viewGroup</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
				<span class="n">viewHolder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ViewHolder</span><span class="o">(</span><span class="n">view</span><span class="o">);</span>
				<span class="n">view</span><span class="o">.</span><span class="na">setTag</span><span class="o">(</span><span class="n">viewHolder</span><span class="o">);</span>
			<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
				<span class="n">viewHolder</span> <span class="o">=</span> <span class="o">(</span><span class="n">ViewHolder</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">getTag</span><span class="o">();</span>
			<span class="o">}</span>
			<span class="kd">final</span> <span class="n">Car</span><span class="o">.</span><span class="na">ROWSDETAILBean</span> <span class="n">item</span> <span class="o">=</span> <span class="n">getItem</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
			<span class="n">item</span><span class="o">.</span><span class="na">setIndex</span><span class="o">(</span><span class="n">i</span><span class="o">);</span><span class="c1">//将序号存入javabean中
</span><span class="c1"></span>			<span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_xh</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">String</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span> <span class="n">1</span><span class="o">));</span>
			<span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_cp</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getCarnumber</span><span class="o">());</span>
			<span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_cz</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&#34;车主：&#34;</span> <span class="o">+</span> <span class="n">InitApp</span><span class="o">.</span><span class="na">user</span><span class="o">.</span><span class="na">getPname</span><span class="o">());</span>
			<span class="n">viewHolder</span><span class="o">.</span><span class="na">tv_yue</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&#34;余额：&#34;</span> <span class="o">+</span> <span class="n">item</span><span class="o">.</span><span class="na">getYue</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34;元&#34;</span><span class="o">);</span>
           <span class="c1">//取出车标图片
</span><span class="c1"></span>			<span class="kt">int</span> <span class="n">drawable</span> <span class="o">=</span> <span class="n">getContext</span><span class="o">().</span><span class="na">getResources</span><span class="o">().</span><span class="na">getIdentifier</span><span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getCarbrand</span><span class="o">(),</span> <span class="s">&#34;drawable&#34;</span><span class="o">,</span> <span class="n">getContext</span><span class="o">().</span><span class="na">getPackageName</span><span class="o">());</span>
			<span class="n">viewHolder</span><span class="o">.</span><span class="na">iv_car</span><span class="o">.</span><span class="na">setImageResource</span><span class="o">(</span><span class="n">drawable</span><span class="o">);</span>
            <span class="c1">//判断余额是否小于阈值
</span><span class="c1"></span>			<span class="k">if</span> <span class="o">(</span><span class="n">item</span><span class="o">.</span><span class="na">getYue</span><span class="o">()</span> <span class="o">&lt;</span> <span class="n">caryz</span><span class="o">)</span> <span class="o">{</span>
				<span class="n">view</span><span class="o">.</span><span class="na">setBackgroundColor</span><span class="o">(</span><span class="n">Color</span><span class="o">.</span><span class="na">parseColor</span><span class="o">(</span><span class="s">&#34;#ffcc00&#34;</span><span class="o">));</span>
			<span class="o">}</span>
			<span class="c1">//复选框监听
</span><span class="c1"></span>			<span class="n">viewHolder</span><span class="o">.</span><span class="na">cb_pl</span><span class="o">.</span><span class="na">setOnCheckedChangeListener</span><span class="o">(</span><span class="k">new</span> <span class="n">CompoundButton</span><span class="o">.</span><span class="na">OnCheckedChangeListener</span><span class="o">()</span> <span class="o">{</span>
				<span class="nd">@Override</span>
				<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCheckedChanged</span><span class="o">(</span><span class="n">CompoundButton</span> <span class="n">compoundButton</span><span class="o">,</span> <span class="kt">boolean</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
					<span class="k">if</span> <span class="o">(</span><span class="n">b</span><span class="o">)</span> <span class="o">{</span><span class="c1">//选择则加入集合中
</span><span class="c1"></span>						<span class="n">czlist</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
					<span class="o">}</span> <span class="k">else</span> <span class="o">{</span><span class="c1">//未选中则删除
</span><span class="c1"></span>						<span class="n">czlist</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
					<span class="o">}</span>
				<span class="o">}</span>
			<span class="o">});</span>
			<span class="n">view</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
				<span class="nd">@Override</span>
				<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">showDiglog</span><span class="o">(</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Car</span><span class="o">.</span><span class="na">ROWSDETAILBean</span><span class="o">&gt;()</span> <span class="o">{{</span>
						<span class="n">add</span><span class="o">(</span><span class="n">item</span><span class="o">);</span>
					<span class="o">}});</span>
				<span class="o">}</span>
			<span class="o">});</span>
			<span class="k">return</span> <span class="n">view</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kd">class</span> <span class="nc">ViewHolder</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="n">View</span> <span class="n">rootView</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_xh</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">ImageView</span> <span class="n">iv_car</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_cp</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_cz</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">TextView</span> <span class="n">tv_yue</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">CheckBox</span> <span class="n">cb_pl</span><span class="o">;</span>
            <span class="kd">public</span> <span class="n">Button</span> <span class="n">bt_cz</span><span class="o">;</span>

            <span class="kd">public</span> <span class="nf">ViewHolder</span><span class="o">(</span><span class="n">View</span> <span class="n">rootView</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">this</span><span class="o">.</span><span class="na">rootView</span> <span class="o">=</span> <span class="n">rootView</span><span class="o">;</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_xh</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_xh</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">iv_car</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">iv_car</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_cp</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_cp</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_cz</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_cz</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">tv_yue</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_yue</span><span class="o">);</span>
                <span class="k">this</span><span class="o">.</span><span class="na">cb_pl</span> <span class="o">=</span> <span class="o">(</span><span class="n">CheckBox</span><span class="o">)</span> <span class="n">rootView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">cb_pl</span><span class="o">);</span>
            <span class="o">}</span>

        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div>]]></description>
</item><item>
    <title> Android 通知栏</title>
    <link>https://seekwj.github.io/android-%E9%80%9A%E7%9F%A5%E6%A0%8F/</link>
    <pubDate>Wed, 30 Sep 2020 19:08:04 &#43;0800</pubDate>
    <author>作者</author>
    <guid>https://seekwj.github.io/android-%E9%80%9A%E7%9F%A5%E6%A0%8F/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/md/Android/Android.webp" referrerpolicy="no-referrer">
            </div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">void</span> <span class="nf">tz</span><span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">,</span><span class="n">String</span> <span class="n">title</span><span class="o">,</span><span class="n">String</span> <span class="n">text</span><span class="o">){</span>
    <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span><span class="n">MainActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;tz&#34;</span><span class="o">,</span><span class="kc">true</span><span class="o">);</span>
    <span class="n">PendingIntent</span> <span class="n">activity</span> <span class="o">=</span> <span class="n">PendingIntent</span><span class="o">.</span><span class="na">getActivity</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span><span class="n">1</span><span class="o">,</span><span class="n">intent</span><span class="o">,</span><span class="n">0</span><span class="o">);</span>
    <span class="n">NotificationManager</span> <span class="n">manager</span> <span class="o">=</span> <span class="o">(</span><span class="n">NotificationManager</span><span class="o">)</span> <span class="n">getSystemService</span><span class="o">(</span><span class="n">Context</span><span class="o">.</span><span class="na">NOTIFICATION_SERVICE</span><span class="o">);</span>
    <span class="n">Notification</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Notification</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">());</span>
    <span class="n">builder</span><span class="o">.</span><span class="na">setSmallIcon</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">icon_etc</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setContentTitle</span><span class="o">(</span><span class="n">title</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setContentText</span><span class="o">(</span><span class="n">text</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setContentIntent</span><span class="o">(</span><span class="n">activity</span><span class="o">);</span>
    <span class="n">manager</span><span class="o">.</span><span class="na">notify</span><span class="o">(</span><span class="n">id</span><span class="o">,</span><span class="n">builder</span><span class="o">.</span><span class="na">build</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><strong><code>Android9.0</code>以下通知栏，9.0以上要加判断条件和代码</strong></p>
]]></description>
</item><item>
    <title>Android 图片缩放</title>
    <link>https://seekwj.github.io/android-%E5%9B%BE%E7%89%87%E7%BC%A9%E6%94%BE/</link>
    <pubDate>Mon, 28 Sep 2020 19:43:03 &#43;0800</pubDate>
    <author>作者</author>
    <guid>https://seekwj.github.io/android-%E5%9B%BE%E7%89%87%E7%BC%A9%E6%94%BE/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/md/Android/Android.webp" referrerpolicy="no-referrer">
            </div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Zoom</span> <span class="kd">implements</span> <span class="n">View</span><span class="o">.</span><span class="na">OnTouchListener</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">model</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">onTouch</span><span class="o">(</span><span class="n">View</span> <span class="n">view</span><span class="o">,</span> <span class="n">MotionEvent</span> <span class="n">motionEvent</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">switch</span> <span class="o">(</span><span class="n">motionEvent</span><span class="o">.</span><span class="na">getActionMasked</span><span class="o">())</span> <span class="o">{</span>
            <span class="k">case</span> <span class="n">MotionEvent</span><span class="o">.</span><span class="na">ACTION_DOWN</span><span class="o">:</span>
                <span class="n">model</span> <span class="o">=</span> <span class="n">1</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">MotionEvent</span><span class="o">.</span><span class="na">ACTION_POINTER_DOWN</span><span class="o">:</span>
                <span class="n">model</span> <span class="o">=</span> <span class="n">2</span><span class="o">;</span>
                <span class="k">break</span><span class="o">;</span>
            <span class="k">case</span> <span class="n">MotionEvent</span><span class="o">.</span><span class="na">ACTION_MOVE</span><span class="o">:</span>

                <span class="k">if</span> <span class="o">(</span><span class="n">model</span> <span class="o">==</span> <span class="n">2</span><span class="o">)</span> <span class="o">{</span>
                    <span class="kt">float</span> <span class="n">x</span> <span class="o">=</span> <span class="n">motionEvent</span><span class="o">.</span><span class="na">getX</span><span class="o">(</span><span class="n">0</span><span class="o">);</span>
                    <span class="kt">float</span> <span class="n">x1</span> <span class="o">=</span> <span class="n">motionEvent</span><span class="o">.</span><span class="na">getX</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>

                    <span class="kt">float</span> <span class="n">y</span> <span class="o">=</span> <span class="n">motionEvent</span><span class="o">.</span><span class="na">getY</span><span class="o">(</span><span class="n">0</span><span class="o">);</span>
                    <span class="kt">float</span> <span class="n">y2</span> <span class="o">=</span> <span class="n">motionEvent</span><span class="o">.</span><span class="na">getY</span><span class="o">(</span><span class="n">1</span><span class="o">);</span>

                    <span class="kt">double</span> <span class="n">sqrt</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">((</span><span class="n">x</span> <span class="o">-</span> <span class="n">x1</span><span class="o">)</span> <span class="o">*</span> <span class="o">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x1</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">y2</span><span class="o">)</span> <span class="o">*</span> <span class="o">(</span><span class="n">y</span> <span class="o">-</span> <span class="n">y2</span><span class="o">));</span>

                    <span class="n">ViewGroup</span><span class="o">.</span><span class="na">LayoutParams</span> <span class="n">layoutParams</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="na">getLayoutParams</span><span class="o">();</span>

                    <span class="n">layoutParams</span><span class="o">.</span><span class="na">height</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">sqrt</span><span class="o">;</span>
                    <span class="n">layoutParams</span><span class="o">.</span><span class="na">width</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">sqrt</span><span class="o">;</span>
                    <span class="n">view</span><span class="o">.</span><span class="na">setLayoutParams</span><span class="o">(</span><span class="n">layoutParams</span><span class="o">);</span>
                <span class="o">}</span>

                <span class="k">break</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="使用实例"><strong>使用实例</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">		<span class="c1">//设置ImageView控件缩放
</span><span class="c1"></span>        <span class="n">img</span><span class="o">.</span><span class="na">setOnTouchListener</span><span class="o">(</span><span class="k">new</span> <span class="n">Zoom</span><span class="o">());</span>
</code></pre></td></tr></table>
</div>
</div>]]></description>
</item><item>
    <title>车辆违章</title>
    <link>https://seekwj.github.io/%E8%BD%A6%E8%BE%86%E8%BF%9D%E7%AB%A0/</link>
    <pubDate>Tue, 23 Jun 2020 09:25:51 &#43;0800</pubDate>
    <author>作者</author>
    <guid>https://seekwj.github.io/%E8%BD%A6%E8%BE%86%E8%BF%9D%E7%AB%A0/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/md/%e6%af%94%e8%b5%9b/%e6%99%ba%e6%85%a7%e4%ba%a4%e9%80%9a.png" referrerpolicy="no-referrer">
            </div><div>
    
    
</div>
<h2 id="最上面的两个按钮"><strong>最上面的两个按钮</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="nt">&lt;LinearLayout</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;wrap_content&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;wrap_content&#34;</span><span class="nt">&gt;</span>

        <span class="nt">&lt;TextView</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/tv_sp&#34;</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span>
            <span class="na">android:textStyle=</span><span class="s">&#34;bold&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;违章视频&#34;</span>
            <span class="na">android:textSize=</span><span class="s">&#34;25sp&#34;</span>
            <span class="na">android:gravity=</span><span class="s">&#34;center&#34;</span>
            <span class="na">android:background=</span><span class="s">&#34;@drawable/border_czjl&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;180dp&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;50dp&#34;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;TextView</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/tv_tp&#34;</span>
            <span class="na">android:textColor=</span><span class="s">&#34;#000&#34;</span>
            <span class="na">android:textStyle=</span><span class="s">&#34;bold&#34;</span>
            <span class="na">android:text=</span><span class="s">&#34;违章视频&#34;</span>
            <span class="na">android:textSize=</span><span class="s">&#34;25sp&#34;</span>
            <span class="na">android:gravity=</span><span class="s">&#34;center&#34;</span>
            <span class="na">android:background=</span><span class="s">&#34;@drawable/cartitle&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;180dp&#34;</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;50dp&#34;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/LinearLayout&gt;</span>

    <span class="nt">&lt;View</span>
        <span class="na">android:background=</span><span class="s">&#34;@color/light_gray&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;2dp&#34;</span> <span class="nt">/&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>下面用一个<code>GridView</code>用不同数据填充</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"> <span class="nt">&lt;GridView</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/gv_05&#34;</span>
        <span class="na">android:layout_marginTop=</span><span class="s">&#34;30dp&#34;</span>
        <span class="na">android:numColumns=</span><span class="s">&#34;4&#34;</span>
        <span class="na">android:verticalSpacing=</span><span class="s">&#34;50dp&#34;</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span> <span class="nt">/&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p><strong><code>java</code>代码</strong></p>
<p><strong>控件</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">        <span class="n">tv_sp</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_sp</span><span class="o">);</span>
        <span class="n">tv_tp</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_tp</span><span class="o">);</span>
        <span class="n">gv_05</span> <span class="o">=</span> <span class="o">(</span><span class="n">GridView</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">gv_05</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="适配器和点击事件监听"><strong>适配器和点击事件监听</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="n">hashMaps</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span> <span class="c1">//存图片和对应文字得集合
</span><span class="c1">//SimpleAdapter 适配器
</span><span class="c1"></span> <span class="n">adapter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SimpleAdapter</span><span class="o">(</span><span class="n">getContext</span><span class="o">(),</span> <span class="n">hashMaps</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">item5_gv</span><span class="o">,</span><span class="k">new</span> <span class="n">String</span><span class="o">[]{</span><span class="s">&#34;iv&#34;</span><span class="o">,</span><span class="s">&#34;tv&#34;</span><span class="o">},</span><span class="k">new</span> <span class="kt">int</span><span class="o">[]{</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">iv_05</span><span class="o">,</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_05</span><span class="o">});</span>
        <span class="n">initData</span><span class="o">(</span><span class="n">ship</span><span class="o">,</span><span class="s">&#34;视频&#34;</span><span class="o">);</span>
  <span class="n">gv_05</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="n">adapter</span><span class="o">);</span><span class="c1">//设置设配器
</span><span class="c1"></span>	<span class="c1">//tv_sp上面得违章视频TextView
</span><span class="c1"></span>  <span class="n">tv_sp</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
 				<span class="c1">//将未点击的控件设置灰底边框             
</span><span class="c1"></span> 				<span class="n">tv_tp</span><span class="o">.</span><span class="na">setBackgroundResource</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">cartitle</span><span class="o">);</span>
 				<span class="c1">//将点击的控件设置白底边框          
</span><span class="c1"></span>                <span class="n">tv_sp</span><span class="o">.</span><span class="na">setBackgroundResource</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">border_czjl</span><span class="o">);</span>
      			<span class="c1">//对应更新hashMaps里得数据      
</span><span class="c1"></span>    		   <span class="n">initData</span><span class="o">(</span><span class="n">ship</span><span class="o">,</span><span class="s">&#34;视频&#34;</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="对应集合数据"><strong>对应集合数据</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">final</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">img</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;()</span> <span class="o">{{</span>
            <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">weizhang01</span><span class="o">);</span>
            <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">weizhang02</span><span class="o">);</span>
            <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">weizhang03</span><span class="o">);</span>
            <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">weizhang04</span><span class="o">);</span>
        <span class="o">}};</span>
        <span class="kd">final</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">ship</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;()</span> <span class="o">{{</span>
            <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">video_icon</span><span class="o">);</span>
            <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">video_icon</span><span class="o">);</span>
            <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">video_icon</span><span class="o">);</span>
            <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">video_icon</span><span class="o">);</span>
        <span class="o">}};</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="提出来initdata方法来更新hashmaps数据"><strong>提出来<code>initData()</code>方法来更新<code>hashMaps</code>数据</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="kt">void</span> <span class="nf">initData</span><span class="o">(</span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">img</span><span class="o">,</span> <span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">hashMaps</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">4</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">item1</span> <span class="o">=</span>
             	<span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
            <span class="n">item1</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;iv&#34;</span><span class="o">,</span> <span class="n">img</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
            <span class="n">item1</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;tv&#34;</span><span class="o">,</span> <span class="n">s</span><span class="o">);</span>
            <span class="n">hashMaps</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">item1</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">adapter</span><span class="o">.</span><span class="na">notifyDataSetChange</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="gridview的点击事件监听"><strong><code>GridView</code>的点击事件监听</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="n">gv_05</span><span class="o">.</span><span class="na">setOnItemClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">AdapterView</span><span class="o">.</span><span class="na">OnItemClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onItemClick</span><span class="o">(</span><span class="n">AdapterView</span><span class="o">&lt;?&gt;</span> <span class="n">parent</span><span class="o">,</span> <span class="n">View</span> <span class="n">view</span><span class="o">,</span> <span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="kt">long</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
                 <span class="n">Intent</span> <span class="n">intent</span> <span class="o">;</span>
                <span class="c1">//判断集合中的tv键对应值是否为空 为空则为违章图片查看
</span><span class="c1"></span>                <span class="k">if</span> <span class="o">(</span><span class="n">hashMaps</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">position</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;tv&#34;</span><span class="o">)</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><span class="c1">//违章图片
</span><span class="c1"></span>                    <span class="c1">//跳转到图片查看的Activity
</span><span class="c1"></span>                    <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">getContext</span><span class="o">(),</span> <span class="n">ImgActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                    <span class="c1">//将对应图片传递过去
</span><span class="c1"></span>                    <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;img&#34;</span><span class="o">,</span> <span class="n">img</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">position</span><span class="o">));</span>
                <span class="o">}</span> <span class="k">else</span> <span class="o">{</span><span class="c1">//违章视频
</span><span class="c1"></span>                    <span class="c1">//跳转到视频查看的Activity
</span><span class="c1"></span>                    <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">(</span><span class="n">getContext</span><span class="o">(),</span> <span class="n">VcActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
                    <span class="c1">//将对应的视频序号传递
</span><span class="c1"></span>                    <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">&#34;void&#34;</span><span class="o">,</span> <span class="n">position</span><span class="o">);</span>
                <span class="o">}</span>
                <span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="imgactivityclass的代码"><strong><code>ImgActivity.class</code>的代码</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">  <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">requestWindowFeature</span><span class="o">(</span><span class="n">Window</span><span class="o">.</span><span class="na">FEATURE_NO_TITLE</span><span class="o">);</span>
        <span class="n">getWindow</span><span class="o">().</span><span class="na">setFlags</span><span class="o">(</span><span class="n">WindowManager</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">.</span><span class="na">FLAG_FULLSCREEN</span><span class="o">,</span>
                <span class="n">WindowManager</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">.</span><span class="na">FLAG_FULLSCREEN</span><span class="o">);</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_img</span><span class="o">);</span>
        <span class="n">initView</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initView</span><span class="o">()</span> <span class="o">{</span><span class="c1">//插件生成
</span><span class="c1"></span>        <span class="n">tv_back</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_back</span><span class="o">);</span>
        <span class="n">tv_title</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_title</span><span class="o">);</span>
        <span class="n">img</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">img</span><span class="o">);</span>
        <span class="n">tv_back</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">finish</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">tv_title</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&#34;违章图片&#34;</span><span class="o">);</span>
        <span class="c1">//取出上面fragment传递过来的图片
</span><span class="c1"></span>        <span class="n">img</span><span class="o">.</span><span class="na">setImageResource</span><span class="o">(</span><span class="n">getIntent</span><span class="o">().</span><span class="na">getIntExtra</span><span class="o">(</span><span class="s">&#34;img&#34;</span><span class="o">,</span> <span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">weizhang01</span><span class="o">));</span>
        <span class="c1">//设置ImageView控件缩放
</span><span class="c1"></span>        <span class="n">img</span><span class="o">.</span><span class="na">setOnTouchListener</span><span class="o">(</span><span class="k">new</span> <span class="n">Zoom</span><span class="o">());</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="布局代码activity_imgxml"><strong>布局代码<code>activity_img.xml</code></strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span>
    <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;include</span> <span class="na">layout=</span><span class="s">&#34;@layout/title&#34;</span><span class="nt">/&gt;</span>
	
    //不使用相对布局缩放会以固定位置放大缩小
    <span class="nt">&lt;RelativeLayout</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ImageView</span>
            <span class="na">android:id=</span><span class="s">&#34;@+id/img&#34;</span>
            <span class="na">android:layout_centerInParent=</span><span class="s">&#34;true&#34;</span>
            <span class="na">android:src=</span><span class="s">&#34;@drawable/weizhang01&#34;</span>
            <span class="na">android:layout_width=</span><span class="s">&#34;300dp&#34;</span>   <span class="err">//初始大小必须设死不然无法缩放</span>
            <span class="na">android:layout_height=</span><span class="s">&#34;300dp&#34;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/RelativeLayout&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p></p>
<h2 id="vcactivityclass代码"><strong><code>VcActivity.class</code>代码</strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">VcActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">ImageView</span> <span class="n">tv_back</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">TextView</span> <span class="n">tv_title</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ImageView</span> <span class="n">im_ref</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">VideoView</span> <span class="n">vv</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">vc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;()</span> <span class="o">{{</span>
        <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">raw</span><span class="o">.</span><span class="na">car1</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">raw</span><span class="o">.</span><span class="na">car2</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">raw</span><span class="o">.</span><span class="na">car3</span><span class="o">);</span>
        <span class="n">add</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">raw</span><span class="o">.</span><span class="na">car4</span><span class="o">);</span>
    <span class="o">}};</span>
    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nd">@Nullable</span> <span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">requestWindowFeature</span><span class="o">(</span><span class="n">Window</span><span class="o">.</span><span class="na">FEATURE_NO_TITLE</span><span class="o">);</span>
        <span class="n">getWindow</span><span class="o">().</span><span class="na">setFlags</span><span class="o">(</span><span class="n">WindowManager</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">.</span><span class="na">FLAG_FULLSCREEN</span><span class="o">,</span>
                <span class="n">WindowManager</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">.</span><span class="na">FLAG_FULLSCREEN</span><span class="o">);</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_vc</span><span class="o">);</span>
        <span class="n">initView</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">initView</span><span class="o">()</span> <span class="o">{</span> <span class="c1">//插件生成
</span><span class="c1"></span>        <span class="n">tv_back</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_back</span><span class="o">);</span>
        <span class="n">tv_title</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_title</span><span class="o">);</span>
        <span class="n">im_ref</span> <span class="o">=</span> <span class="o">(</span><span class="n">ImageView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">im_ref</span><span class="o">);</span>
        <span class="n">vv</span> <span class="o">=</span> <span class="o">(</span><span class="n">VideoView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">vv</span><span class="o">);</span>
        <span class="n">tv_title</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">&#34;违章视频&#34;</span><span class="o">);</span>
        <span class="n">tv_back</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="n">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">finish</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="c1">//获得上面fragment传递过来的点击的视频位置
</span><span class="c1"></span>        <span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getIntExtra</span><span class="o">(</span><span class="s">&#34;vc&#34;</span><span class="o">,</span> <span class="n">1</span><span class="o">);</span>
        <span class="n">MediaController</span> <span class="n">mediaController</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MediaController</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">());</span>
        <span class="c1">//设置播放的视频
</span><span class="c1"></span>        <span class="n">vv</span><span class="o">.</span><span class="na">setVideoURI</span><span class="o">(</span><span class="n">Uri</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">&#34;android.resource://&#34;</span> <span class="o">+</span> <span class="n">getPackageName</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34;/&#34;</span> <span class="o">+</span> <span class="n">vc</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">v</span><span class="o">)));</span>
        <span class="n">mediaController</span><span class="o">.</span><span class="na">setMediaPlayer</span><span class="o">(</span><span class="n">vv</span><span class="o">);</span>
        <span class="n">vv</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
        <span class="n">mediaController</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="布局代码activity_vcxml"><strong>布局代码<code>activity_vc.xml</code></strong></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&#34;http://schemas.android.com/apk/res/android&#34;</span>
    <span class="na">android:orientation=</span><span class="s">&#34;vertical&#34;</span> <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
    <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;include</span> <span class="na">layout=</span><span class="s">&#34;@layout/title&#34;</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;VideoView</span>
        <span class="na">android:id=</span><span class="s">&#34;@+id/vv&#34;</span> 
        <span class="na">android:layout_marginTop=</span><span class="s">&#34;100dp&#34;</span> <span class="err">//竖屏要上面marginTop100dp才能大概居中，不能用paddingTop没有效果</span>
        <span class="na">android:layout_width=</span><span class="s">&#34;match_parent&#34;</span>
        <span class="na">android:layout_height=</span><span class="s">&#34;match_parent&#34;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p></p>
]]></description>
</item></channel>
</rss>
